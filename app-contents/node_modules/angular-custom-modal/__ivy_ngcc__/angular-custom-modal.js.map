{"version":3,"file":"angular-custom-modal.js","sources":["ts/src/modal.component.ts","ts/src/modal.module.ts","ts/src/angular-custom-modal.ts"],"names":[],"mappings":"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","sourcesContent":["/* tslint:disable:component-selector */\n\n\nimport {\n  Component,\n  OnDestroy,\n  ContentChild,\n  ElementRef,\n  TemplateRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Input,\n  HostListener,\n} from '@angular/core';\nexport class ModalComponent implements OnDestroy {\n   header: TemplateRef<any>;\n   body: TemplateRef<any>;\n   footer: TemplateRef<any>;\n   closeOnOutsideClick = true;\n\n  visible = false;\n  visibleAnimate = false;\n/**\n * @param {?} elementRef\n * @param {?} changeDetectorRef\n */\nconstructor(\nprivate elementRef: ElementRef,\nprivate changeDetectorRef: ChangeDetectorRef\n  ) { }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    // Prevent modal from not executing its closing actions if the user navigated away (for example,\n    // through a link).\n    this.close();\n  }\n/**\n * @return {?}\n */\nopen(): void {\n    document.body.classList.add('modal-open');\n\n    this.visible = true;\n    setTimeout(() => {\n      this.visibleAnimate = true;\n    });\n  }\n/**\n * @return {?}\n */\nclose(): void {\n    document.body.classList.remove('modal-open');\n\n    this.visibleAnimate = false;\n    setTimeout(() => {\n      this.visible = false;\n      this.changeDetectorRef.markForCheck();\n    }, 200);\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonContainerClicked(event: MouseEvent): void {\n    if (( /** @type {?} */((<HTMLElement>event.target))).classList.contains('modal') && this.isTopMost() && this.closeOnOutsideClick) {\n      this.close();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonKeyDownHandler(event: KeyboardEvent) {\n    // If ESC key and TOP MOST modal, close it.\n    if (event.key === 'Escape' && this.isTopMost()) {\n      this.close();\n    }\n  }\n/**\n * Returns true if this modal is the top most modal.\n * @return {?}\n */\nisTopMost(): boolean {\n    return !this.elementRef.nativeElement.querySelector(':scope modal > .modal');\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'modal',\n  template: `\n    <div \n      class=\"modal fade\"\n      role=\"dialog\"\n      tabindex=\"-1\"\n      [class.in]=\"visibleAnimate\"\n      *ngIf=\"visible\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <ng-container *ngTemplateOutlet=\"header\"></ng-container>\n            <button class=\"close\" data-dismiss=\"modal\" type=\"button\" aria-label=\"Close\" (click)=\"close()\">Ã—</button>\n          </div>\n          <div class=\"modal-body\">\n            <ng-container *ngTemplateOutlet=\"body\"></ng-container>\n          </div>\n          <div class=\"modal-footer\">\n            <ng-container *ngTemplateOutlet=\"footer\"></ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    /**\n     * A more specific selector overwrites bootstrap display properties, but they still enable users\n     * to overwite them on their apps.\n     */\n    /deep/ modal .modal {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center; }\n\n    /deep/ .modal {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      min-height: 100%;\n      background-color: rgba(0, 0, 0, 0.15);\n      z-index: 42; }\n\n    /deep/ .modal.in {\n      opacity: 1; }\n  `],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'header': [{ type: ContentChild, args: ['modalHeader', ] },],\n'body': [{ type: ContentChild, args: ['modalBody', ] },],\n'footer': [{ type: ContentChild, args: ['modalFooter', ] },],\n'closeOnOutsideClick': [{ type: Input },],\n'onContainerClicked': [{ type: HostListener, args: ['click', ['$event'], ] },],\n'onKeyDownHandler': [{ type: HostListener, args: ['document:keydown', ['$event'], ] },],\n};\n}\n\nfunction ModalComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nModalComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nModalComponent.ctorParameters;\n/** @type {?} */\nModalComponent.propDecorators;\n/** @type {?} */\nModalComponent.prototype.header;\n/** @type {?} */\nModalComponent.prototype.body;\n/** @type {?} */\nModalComponent.prototype.footer;\n/** @type {?} */\nModalComponent.prototype.closeOnOutsideClick;\n/** @type {?} */\nModalComponent.prototype.visible;\n/** @type {?} */\nModalComponent.prototype.visibleAnimate;\n/** @type {?} */\nModalComponent.prototype.elementRef;\n/** @type {?} */\nModalComponent.prototype.changeDetectorRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ModalComponent } from './modal.component';\nexport class ModalModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule,\n  ],\n  exports: [ModalComponent],\n  declarations: [ModalComponent],\n  providers: [],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ModalModule_tsickle_Closure_declarations() {\n/** @type {?} */\nModalModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nModalModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport {ModalComponent,ModalModule} from './index';\n"]}