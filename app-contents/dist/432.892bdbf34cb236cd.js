"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[432],{4432:(v,u,a)=>{a.r(u),a.d(u,{ShiftsCuModule:()=>j});var o=a(6895),c=a(3559),t=a(4650),d=a(3407),r=a(9872),f=a(2477),l=a(8931),h=a(4463);const Z=function(e){return{"bg-primary text-white":e}};function A(e,g){if(1&e){const s=t.EpF();t.TgZ(0,"li")(1,"a",13),t.NdJ("click",function(){const p=t.CHM(s).$implicit,_=t.oxw();return t.KtG(_.selectTab(p))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&e){const s=g.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(4,Z,i.selectedTab.value===s.value)),t.xp6(1),t.Oqu(t.lcZ(3,2,s.label))}}const T=function(e){return{ShiftId:e}};function b(e,g){if(1&e&&(t.TgZ(0,"div",14),t._UZ(1,"app-invoices-list",15),t.qZA()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("extraParams",t.VKq(1,T,s.Id))}}const x=[{path:"",component:(()=>{class e{constructor(s,i,n,p){this.lookupsService=s,this.accountingService=i,this.common=n,this.route=p,this.lang="labelEn",this.modal={},this.lstData=[],this.selectedTab={},this.lstTabs=[{label:"ShiftOrders",value:0}],this.lstLkpKeys=[],this.lstLkps={},this.Id=this.route.snapshot.paramMap.get("id"),this.selectTab(this.lstTabs[0])}selectTab(s){this.selectedTab=s}ngOnInit(){this.pageInit(),this.common.loadLkps(this.lstLkpKeys,this.lstLkps)}pageInit(){this.Id?this.GetDetails(this.Id):this.modal={isActive:"true"}}GetDetails(s){this.accountingService.ShiftDetails({shiftId:s}).subscribe(i=>{this.modal=this.parseObjFromServer(i)})}parseObjFromServer(s){return s.lstDepartmentBranches&&(s._lstDepartmentBranches=s.lstDepartmentBranches.map(i=>i.branchId)),s.isActive=1==s.isActive?"true":"false",s}prepareObjToServer(s){return s.isActive="true"==s.isActive,s._lstDepartmentBranches&&(s.lstDepartmentBranches=s._lstDepartmentBranches.map(i=>({branchId:i}))),s}back(){this.common.navigateTo("../shifts/cu")}deleteRow(s,i){this.modal[s].splice(i,1)}newRow(s){this.modal[s]||(this.modal[s]=[]),this.modal[s].push({})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(d.K),t.Y36(r.S),t.Y36(f.j),t.Y36(c.gz))};static#s=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-shifts-cu"]],decls:73,vars:53,consts:[[1,"space-y-2","p-2","shiftDetails"],[1,"gap-3","grid","grid-cols-5"],[1,"col-span-5","panel"],[1,"mb-4","font-semibold","dark:text-white-light","text-lg"],[1,"gap-3","grid","grid-cols-4"],[1,"r"],[1,"col-span-4","r"],[1,"panel"],[1,"flex","flex-wrap"],[4,"ngFor","ngForOf"],["class","p-0 panel",4,"ngIf"],[1,"flex","justify-end"],[1,"me-2","mt-1","btn","btn-danger",3,"click"],["href","javascript:",1,"block","hover:bg-primary","ltr:mr-2","-mb-[1px]","rtl:ml-2","p-3.5","py-2","rounded","hover:text-white",3,"ngClass","click"],[1,"p-0","panel"],[3,"extraParams"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.qZA()(),t.TgZ(13,"div",5)(14,"label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p"),t._uU(18),t.qZA()(),t.TgZ(19,"div",5)(20,"label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.ALo(25,"date"),t.qZA()(),t.TgZ(26,"div",5)(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.ALo(32,"date"),t.qZA()(),t.TgZ(33,"div",5)(34,"label"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"p"),t._uU(38),t.qZA()(),t.TgZ(39,"div",5)(40,"label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"p"),t._uU(44),t.qZA()(),t.TgZ(45,"div",5)(46,"label"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"p"),t._uU(50),t.ALo(51,"number"),t.qZA()(),t.TgZ(52,"div",5)(53,"label"),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"p"),t._uU(57),t.qZA()(),t.TgZ(58,"div",6)(59,"label"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"p"),t._uU(63),t.qZA()()()()(),t.TgZ(64,"div",7)(65,"ul",8),t.YNc(66,A,4,6,"li",9),t.qZA()(),t.YNc(67,b,2,3,"div",10),t.TgZ(68,"div",7)(69,"div",11)(70,"a",12),t.NdJ("click",function(){return n.back()}),t._uU(71),t.ALo(72,"translate"),t.qZA()()()()),2&i&&(t.xp6(4),t.AsE(" ",t.lcZ(5,23,"ShiftDetails")," ",n.modal.id?"#"+n.modal.id:"",""),t.xp6(5),t.hij("",t.lcZ(10,25,"UserName"),":"),t.xp6(3),t.Oqu(n.modal.createByName),t.xp6(3),t.hij("",t.lcZ(16,27,"BranchName"),":"),t.xp6(3),t.Oqu(n.modal.branchName),t.xp6(3),t.hij("",t.lcZ(22,29,"OnDate"),":"),t.xp6(3),t.Oqu(t.xi3(25,31,n.modal.startTime,"dd/MM/yyyy \u2022 h:mm a")),t.xp6(4),t.hij("",t.lcZ(29,34,"ClosingDate"),":"),t.xp6(3),t.Oqu(t.xi3(32,36,n.modal.endTime,"dd/MM/yyyy \u2022 h:mm a")),t.xp6(4),t.hij("",t.lcZ(36,39,"StartCash"),":"),t.xp6(3),t.Oqu(n.modal.startCash),t.xp6(3),t.hij("",t.lcZ(42,41,"EndCash"),":"),t.xp6(3),t.Oqu(n.modal.endCash),t.xp6(3),t.hij("",t.lcZ(48,43,"TotalSales"),":"),t.xp6(3),t.Oqu(t.lcZ(51,45,n.modal.totalSales)),t.xp6(4),t.hij("",t.lcZ(55,47,"DeviceKey"),":"),t.xp6(3),t.Oqu(n.modal.deviceKey),t.xp6(3),t.hij("",t.lcZ(61,49,"ClosingNotes"),":"),t.xp6(3),t.Oqu(n.modal.closingNotes),t.xp6(3),t.Q6J("ngForOf",n.lstTabs),t.xp6(1),t.Q6J("ngIf",0==n.selectedTab.value),t.xp6(4),t.Oqu(t.lcZ(72,51,"Discard")))},dependencies:[o.mk,o.sg,o.O5,l.p,o.JJ,o.uU,h.X$],styles:[".shiftDetails[_ngcontent-%COMP%]{.r {display: flex; gap: 10px} .r p {font-weight: bold; font-size: 16px;}}"]})}return e})()}];let C=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#s=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(x),c.Bz]})}return e})();var m=a(4006),S=a(4868),y=a(4180),O=a(1835),L=a(9886),U=a(9116),D=a(3406);let j=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#s=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[o.ez,C,U.Q,m.u5,S.tA,m.UX,h.aw,y.$9,O.A0,L.zk,D.InvoicesListModule]})}return e})()},9872:(v,u,a)=>{a.d(u,{S:()=>d});var o=a(4650),c=a(1801),t=a(2477);let d=(()=>{class r{constructor(l,h){this.http=l,this.common=h,this.mainRoute="Accounting"}AddFloor(l){return this.http.post(`${this.mainRoute}/AddFloor`,l)}FloorDetails(l){return this.http.getWithObj(`${this.mainRoute}/FloorDetails`,l)}FloorsList(l){return this.http.getWithObj(`${this.mainRoute}/FloorsList`,l)}GetTablesStatuses(l){return this.http.getWithObj(`${this.mainRoute}/GetTablesStatuses`,l)}AddShift(l){return this.http.post(`${this.mainRoute}/AddShift`,l)}ShiftDetails(l){return this.http.getWithObj(`${this.mainRoute}/ShiftDetails`,l)}ShiftsList(l){return this.http.getWithObj(`${this.mainRoute}/ShiftsList`,l)}static#t=this.\u0275fac=function(h){return new(h||r)(o.LFG(c.q),o.LFG(t.j))};static#s=this.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);