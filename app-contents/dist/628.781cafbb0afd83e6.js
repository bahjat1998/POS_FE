"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[628],{6628:(C,f,e)=>{e.r(f),e.d(f,{PosLoginModule:()=>B});var s=e(6895),m=e(3559),x=e(5861),r=e(7340),t=e(4650),l=e(4463),w=e(6467),c=e(2477),d=e(5867),v=e(7400),b=e(8890),L=e(3644),y=e(3526),M=e(1030),u=e(4006),h=e(4180),Z=e(1835);const k=function(n){return{"bg-primary/10 text-primary":n}};function T(n,_){if(1&n){const o=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit,g=t.oxw(2);return t.KtG(g.changeLanguage(a))}),t._UZ(1,"img",38),t.TgZ(2,"span",39),t._uU(3),t.qZA()()}if(2&n){const o=t.oxw().$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(3,k,i.translate.currentLang===o.code)),t.xp6(1),t.Q6J("src","/assets/images/flags/"+o.code.toUpperCase()+".svg",t.LSH),t.xp6(2),t.Oqu(o.name)}}function A(n,_){1&n&&(t.TgZ(0,"li"),t.YNc(1,T,4,5,"button",36),t.qZA())}function P(n,_){if(1&n&&(t.TgZ(0,"ul",34),t.YNc(1,A,2,0,"li",35),t.qZA()),2&n){const o=t.oxw();t.Q6J("@toggleAnimation",void 0),t.xp6(1),t.Q6J("ngForOf",o.store.languageList)}}const E=[{path:"",component:(()=>{class n{constructor(o,i,a,g,p,O,j){this.translate=o,this.accountService=i,this.common=a,this.storeData=g,this.router=p,this.appSetting=O,this.storeManagementService=j,this.loginModel={},this.lstLkpKeys=["Branch"],this.lstLkps={},this.loading=!1,this.reqFields=["branchId","userName","password"],this.inputFailds={},this.counter=0,this.initStore(),this.common.loadLkps(this.lstLkpKeys,this.lstLkps,this.handleSelectedBranch.bind(this))}handleSelectedBranch(){this.lstLkps.Branch&&this.lstLkps.Branch.length>0&&(this.loginModel.branchId=this.lstLkps.Branch[0].value)}initStore(){var o=this;return(0,x.Z)(function*(){o.storeData.select(i=>i.index).subscribe(i=>{o.store=i})})()}changeLanguage(o){this.translate.use(o.code),this.appSetting.toggleLanguage(o),"ae"===this.store.locale?.toLowerCase()?this.storeData.dispatch({type:"toggleRTL",payload:"rtl"}):this.storeData.dispatch({type:"toggleRTL",payload:"ltr"}),window.location.reload()}login(){let o=this.common.checkValidation(this.loginModel,this.reqFields);if(o.isValid){this.loading=!0;let i={...this.loginModel,isPosLogin:!0};this.accountService.Login(i).subscribe({next:a=>{a.token&&this.common.saveAuth(a)},error:a=>{400==a.status&&alert(a.error.message)}})}else this.inputFailds=o.failerFields,this.common.error("Fill required fields","")}fireClearAll(){this.counter+=1,7==this.counter&&(this.storeManagementService.clear(),console.log("Clear ALL DONE"))}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(l.sK),t.Y36(w.B),t.Y36(c.j),t.Y36(d.yh),t.Y36(m.F0),t.Y36(v.z),t.Y36(b.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-pos-login"]],decls:61,vars:30,consts:[[1,"absolute","inset-0"],["src","/assets/images/auth/bg-gradient.png","alt","image",1,"w-full","h-full","object-cover"],[1,"relative","flex","justify-center","items-center","bg-[url(/assets/images/auth/map.png)]","dark:bg-[#060818]","bg-cover","bg-no-repeat","bg-center","px-6","sm:px-16","py-10","min-h-screen"],["src","/assets/images/auth/coming-soon-object1.png","alt","image",1,"top-1/2","left-0","absolute","h-full","max-h-[893px]","-translate-y-1/2"],["src","/assets/images/auth/coming-soon-object2.png","alt","image",1,"top-0","left-24","md:left-[30%]","absolute","h-40"],["src","/assets/images/auth/coming-soon-object3.png","alt","image",1,"top-0","right-0","absolute","h-[300px]"],["src","/assets/images/auth/polygon-object.svg","alt","image",1,"bottom-0","absolute","end-[28%]"],[1,"relative","bg-[linear-gradient(45deg,#fff9f9_0%,rgba(255,255,255,0)_25%,rgba(255,255,255,0)_75%,_#fff9f9_100%)]","dark:bg-[linear-gradient(52.22deg,#0E1726_0%,rgba(14,23,38,0)_18.66%,rgba(14,23,38,0)_51.04%,rgba(14,23,38,0)_80.07%,#0E1726_100%)]","p-2","rounded-md","w-full","max-w-[870px]"],[1,"relative","flex","flex-col","justify-center","bg-white/60","dark:bg-black/50","backdrop-blur-lg","px-6","py-1","rounded-md","lg:min-h-[458px]"],[1,"top-6","absolute","end-6"],[1,"dropdown"],["hlMenu",""],["type","button","hlMenuButton","",1,"flex","items-center","gap-2.5","bg-white","dark:bg-black","px-2","py-1.5","border","border-white-dark/30","hover:border-primary","rounded-lg","text-white-dark","hover:text-primary"],["alt","image",1,"rounded-full","w-5","h-5","object-cover",3,"src"],[1,"font-bold","text-base","uppercase"],[1,"shrink-0"],["class","top-11 ltr:-right-14 sm:ltr:-right-2 rtl:-left-14 sm:rtl:-left-2 gap-2 grid grid-cols-2 !px-2 w-[280px] font-semibold text-dark dark:text-white-dark dark:text-white-light/90",4,"hlMenuItems"],[1,"mx-auto","w-full","max-w-[440px]"],[1,"mb-10"],[1,"font-extrabold","text-primary","text-3xl","md:text-4xl","uppercase","!leading-snug",3,"click"],[1,"font-bold","text-white-dark","text-base","leading-normal"],[1,"space-y-5","dark:text-white",3,"submit"],["for","Email"],[1,"relative","text-white-dark"],["bindLabel","label","bindValue","value",1,"form-control",3,"items","ngModel","clearable","ngModelChange"],["id","Email","type","email","placeholder","Enter Email",1,"ps-10","placeholder:text-white-dark","form-input",3,"ngModel","ngModelChange"],[1,"top-1/2","absolute","-translate-y-1/2","start-4"],[3,"fill"],["for","Password"],["id","Password","type","password","placeholder","Enter Password",1,"ps-10","placeholder:text-white-dark","form-input",3,"ngModel","ngModelChange"],[1,"flex","items-center","cursor-pointer"],["type","checkbox",1,"bg-white","dark:bg-black","form-checkbox"],[1,"text-white-dark"],[1,"shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]","!mt-6","border-0","w-full","btn","btn-gradient","btnlogin",3,"click"],[1,"top-11","ltr:-right-14","sm:ltr:-right-2","rtl:-left-14","sm:rtl:-left-2","gap-2","grid","grid-cols-2","!px-2","w-[280px]","font-semibold","text-dark","dark:text-white-dark","dark:text-white-light/90"],[4,"ngFor","ngForOf"],["type","button","class","w-full hover:text-primary",3,"ngClass","click",4,"hlMenuItem"],["type","button",1,"w-full","hover:text-primary",3,"ngClass","click"],["alt","",1,"rounded-full","w-5","h-5","object-cover",3,"src"],[1,"rtl:mr-3","ltr:ml-3"]],template:function(i,a){1&i&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"img",1),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"img",3)(5,"img",4)(6,"img",5)(7,"img",6),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"button",12)(14,"div"),t._UZ(15,"img",13),t.qZA(),t.TgZ(16,"div",14),t._uU(17),t.qZA(),t.TgZ(18,"span",15),t._UZ(19,"icon-caret-down"),t.qZA()(),t.YNc(20,P,2,2,"ul",16),t.qZA()()(),t.TgZ(21,"div",17)(22,"div",18)(23,"h1",19),t.NdJ("click",function(){return a.fireClearAll()}),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"p",20),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"div",21),t.NdJ("submit",function(){return a.router.navigate(["/"])}),t.TgZ(30,"div")(31,"label",22),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",23)(35,"ng-select",24),t.NdJ("ngModelChange",function(p){return a.loginModel.branchId=p}),t.qZA()()(),t.TgZ(36,"div")(37,"label",22),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"div",23)(41,"input",25),t.NdJ("ngModelChange",function(p){return a.loginModel.userName=p}),t.qZA(),t.TgZ(42,"span",26),t._UZ(43,"icon-mail",27),t.qZA()()(),t.TgZ(44,"div")(45,"label",28),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"div",23)(49,"input",29),t.NdJ("ngModelChange",function(p){return a.loginModel.password=p}),t.qZA(),t.TgZ(50,"span",26),t._UZ(51,"icon-lock-dots",27),t.qZA()()(),t.TgZ(52,"div")(53,"label",30),t._UZ(54,"input",31),t.TgZ(55,"span",32),t._uU(56),t.ALo(57,"translate"),t.qZA()()(),t.TgZ(58,"button",33),t.NdJ("click",function(){return a.login()}),t._uU(59),t.ALo(60,"translate"),t.qZA()()()()()()()),2&i&&(t.xp6(15),t.Q6J("src","/assets/images/flags/"+a.store.locale.toUpperCase()+".svg",t.LSH),t.xp6(2),t.Oqu(a.store.locale),t.xp6(7),t.hij("",t.lcZ(25,16,"SignIn")," "),t.xp6(3),t.Oqu(t.lcZ(28,18,"EnterEmailAndPassword")),t.xp6(5),t.Oqu(t.lcZ(33,20,"SelectBranch")),t.xp6(3),t.Q6J("items",a.lstLkps.Branch)("ngModel",a.loginModel.branchId)("clearable",!1),t.xp6(3),t.Oqu(t.lcZ(39,22,"Email")),t.xp6(3),t.Q6J("ngModel",a.loginModel.userName),t.xp6(2),t.Q6J("fill",!0),t.xp6(3),t.Oqu(t.lcZ(47,24,"Password")),t.xp6(3),t.Q6J("ngModel",a.loginModel.password),t.xp6(2),t.Q6J("fill",!0),t.xp6(5),t.Oqu(t.lcZ(57,26,"RememberMe")),t.xp6(3),t.hij(" ",t.lcZ(60,28,"SignIn")," "))},dependencies:[s.mk,s.sg,L.$,y.p,M.h,u.Fj,u.JJ,u.On,h.B$,h.zk,h._f,h.e6,Z.w9,l.X$],styles:[".btnlogin[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #EF1262 var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 18 98 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #4361EE var(--tw-gradient-to-position);--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}"],data:{animation:[(0,r.X$)("toggleAnimation",[(0,r.eR)(":enter",[(0,r.oB)({opacity:0,transform:"scale(0.95)"}),(0,r.jt)("100ms ease-out",(0,r.oB)({opacity:1,transform:"scale(1)"}))]),(0,r.eR)(":leave",[(0,r.jt)("75ms",(0,r.oB)({opacity:0,transform:"scale(0.95)"}))])])]}})}return n})()}];let U=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(E),m.Bz]})}return n})();var J=e(9116);let B=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[s.ez,U,J.Q,u.u5,u.UX,h.$9,l.aw,Z.A0]})}return n})()},3644:(C,f,e)=>{e.d(f,{$:()=>t});var s=e(4650),m=e(6895);const x=["template"];function r(l,w){if(1&l&&(s.O4$(),s.TgZ(0,"svg",1),s._UZ(1,"path",2),s.qZA()),2&l){const c=s.oxw();s.Q6J("ngClass",c.class)}}let t=(()=>{class l{constructor(c){this.viewContainerRef=c,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(d){return new(d||l)(s.Y36(s.s_b))};static#e=this.\u0275cmp=s.Xpm({type:l,selectors:[["icon-caret-down"]],viewQuery:function(d,v){if(1&d&&s.Gf(x,7),2&d){let b;s.iGM(b=s.CRH())&&(v.template=b.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["d","M19 9L12 15L5 9","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"]],template:function(d,v){1&d&&s.YNc(0,r,2,1,"ng-template",null,0,s.W1O)},dependencies:[m.mk],encapsulation:2})}return l})()}}]);