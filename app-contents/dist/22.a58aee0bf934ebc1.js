"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[22],{9666:(D,c,s)=>{s.r(c),s.d(c,{DepartmentCuModule:()=>O});var m=s(6895),u=s(3559),t=s(4650),A=s(3407),T=s(2924),h=s(2477),p=s(4006),e=s(1835),o=s(4463);const g=function(r){return{"is-invalid":r}},C=[{path:"",component:(()=>{class r{constructor(n,i,a,d){this.lookupsService=n,this.managementService=i,this.common=a,this.route=d,this.lang="labelEn",this.modal={},this.lstData=[],this.lstLkpKeys=["Branch"],this.lstLkps={},this.reqFields=["nameEn","nameAr"],this.inputFailds={},this.Id=this.route.snapshot.paramMap.get("id"),this.common.loadLkps(this.lstLkpKeys,this.lstLkps)}ngOnInit(){this.pageInit()}pageInit(){this.Id?this.GetDetails(this.Id):this.modal={isActive:"true"}}GetDetails(n){this.managementService.DepartmentDetails(n).subscribe(i=>{this.modal=this.parseObjFromServer(i)})}parseObjFromServer(n){return n.lstBranches&&(n._lstBranches=n.lstBranches.map(i=>i.branchId)),n.isActive=1==n.isActive?"true":"false",n}prepareObjToServer(n){return n.isActive="true"==n.isActive,n._lstBranches&&(n.lstBranches=n._lstBranches.map(i=>({branchId:i}))),n}save(){let n=this.common.checkValidation(this.modal,this.reqFields);if(n.isValid){let i=this.prepareObjToServer(this.modal);this.managementService.AddDepartment(i).subscribe({next:a=>{this.inputFailds={},a.status&&(this.common.success("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638"),this.Id=a.entityId,this.GetDetails(this.Id)),a.lstError.length>0&&this.common.error("Error",a.lstError[0])},error:a=>{this.common.error("Fill required fields","")}})}else this.inputFailds=n.failerFields,this.common.error("Fill required fields","")}back(){this.common.navigateTo("../system/departments")}static#t=this.\u0275fac=function(i){return new(i||r)(t.Y36(A.K),t.Y36(T.i),t.Y36(h.j),t.Y36(u.gz))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-department-cu"]],decls:44,vars:41,consts:[[1,"panel"],[1,"mb-4","font-semibold","text-lg","dark:text-white-light"],[1,"gap-3","grid","grid-cols-3"],["type","text","disabled","",1,"form-input",3,"ngModel","ngModelChange"],["type","text",1,"form-input",3,"ngModel","ngModelChange"],["type","text",1,"form-input",3,"ngModel","ngClass","ngModelChange"],[1,"form-group","local-forms"],["for","gender",1,"gen-label"],["bindLabel","label","bindValue","value",1,"form-control",3,"items","multiple","ngModel","ngModelChange"],[1,"col-span-2"],[1,"form-label"],["rows","6",1,"form-input",3,"ngModel","ngModelChange"],[1,"flex","justify-end"],[1,"mt-1","btn","btn-danger","me-2",3,"click"],[1,"mt-1","btn","btn-success",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2)(5,"div")(6,"label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"input",3),t.NdJ("ngModelChange",function(l){return a.modal.id=l}),t.qZA()(),t.TgZ(10,"div")(11,"label"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"input",4),t.NdJ("ngModelChange",function(l){return a.modal.key=l}),t.qZA()(),t._UZ(15,"div"),t.TgZ(16,"div")(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"input",5),t.NdJ("ngModelChange",function(l){return a.modal.nameEn=l}),t.qZA()(),t.TgZ(21,"div")(22,"label"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",5),t.NdJ("ngModelChange",function(l){return a.modal.nameAr=l}),t.qZA()(),t.TgZ(26,"div")(27,"div",6)(28,"label",7),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"ng-select",8),t.NdJ("ngModelChange",function(l){return a.modal._lstBranches=l}),t.qZA()()(),t.TgZ(32,"div",9)(33,"label",10),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"textarea",11),t.NdJ("ngModelChange",function(l){return a.modal.desc=l}),t.qZA()()(),t.TgZ(37,"div",12)(38,"a",13),t.NdJ("click",function(){return a.back()}),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"a",14),t.NdJ("click",function(){return a.save()}),t._uU(42),t.ALo(43,"translate"),t.qZA()()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,19,"DepartmentInfo"),""),t.xp6(5),t.Oqu(t.lcZ(8,21,"ID")),t.xp6(2),t.Q6J("ngModel",a.modal.id),t.xp6(3),t.Oqu(t.lcZ(13,23,"key")),t.xp6(2),t.Q6J("ngModel",a.modal.key),t.xp6(4),t.Oqu(t.lcZ(19,25,"EnglishName")),t.xp6(2),t.Q6J("ngModel",a.modal.nameEn)("ngClass",t.VKq(37,g,a.inputFailds.nameEn)),t.xp6(3),t.Oqu(t.lcZ(24,27,"ArabicName")),t.xp6(2),t.Q6J("ngModel",a.modal.nameAr)("ngClass",t.VKq(39,g,a.inputFailds.nameAr)),t.xp6(4),t.Oqu(t.lcZ(30,29,"OnBranches")),t.xp6(2),t.Q6J("items",a.lstLkps.Branch)("multiple",!0)("ngModel",a.modal._lstBranches),t.xp6(3),t.Oqu(t.lcZ(35,31,"Description")),t.xp6(2),t.Q6J("ngModel",a.modal.desc),t.xp6(3),t.Oqu(t.lcZ(40,33,"Discard")),t.xp6(3),t.Oqu(t.lcZ(43,35,"Save")))},dependencies:[m.mk,p.Fj,p.JJ,p.On,e.w9,o.X$]})}return r})()}];let f=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.oAB({type:r});static#a=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(C),u.Bz]})}return r})();var y=s(9116),I=s(4868),b=s(4180),M=s(3538);let O=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.oAB({type:r});static#a=this.\u0275inj=t.cJS({imports:[m.ez,f,y.Q,p.u5,I.tA,p.UX,o.aw,b.$9,e.A0,M.y]})}return r})()},2924:(D,c,s)=>{s.d(c,{i:()=>T});var m=s(9646),u=s(4650),t=s(1801),A=s(2477);let T=(()=>{class h{constructor(e,o){this.http=e,this.common=o,this.mainRoute="Management"}GetFloorsData(e){return(0,m.of)({lstData:[{id:1,name:"Floor #1",img:"TableFloor01.svg"},{id:2,name:"Floor #2",img:"TableFloor02.svg"},{id:3,name:"Floor #3",img:"TableFloor03.svg"}]})}GetTables(e){return(0,m.of)({lstData:[{id:1,name:"T-1",status:0,label:""},{id:2,name:"T-2",status:1,label:""},{id:3,name:"T-3",status:0,label:""},{id:4,name:"T-4",status:1,label:""},{id:5,name:"T-5",status:2,itemsCount:"5"},{id:6,name:"T-6",status:2,itemsCount:"5"},{id:7,name:"T-7",status:1,label:""},{id:8,name:"T-8",status:2,itemsCount:"5"},{id:9,name:"T-9",status:0,label:""},{id:10,name:"T-10",status:2,label:""},{id:11,name:"T-11",status:0,label:""},{id:12,name:"T-12",status:2,label:""}]})}OrdersList(e){return(0,m.of)({lstData:[{id:4,tableName:"T-1",posType:0,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-19 08:51:11.6836747",createByName:"Ahmad Jamal"},{id:1231,tableName:"T-2",posType:1,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-20 02:51:11.6836747",createByName:"Ahmad Jamal"},{id:1432,tableName:"T-13",posType:2,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-25 07:51:11.6836747",createByName:"Ahmad Jamal"},{id:4,tableName:"T-11",posType:0,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-19 08:51:11.6836747",createByName:"Ahmad Jamal"},{id:1231,tableName:"T-6",posType:1,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-20 02:51:11.6836747",createByName:"Ahmad Jamal"},{id:1432,tableName:"T-8",posType:2,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-25 07:51:11.6836747",createByName:"Ahmad Jamal"}],rowsCount:50})}OrderDetails(e){return(0,m.of)(1==e.id?{id:954,customerName:"Daily Sales",orderType:"Table",tableName:"A1",dateTime:"2025-04-06T08:19:49Z",lstItems:[{id:1,name:"Item 01",qty:5,variant:"Var 01",lstAddOns:["add01","add02"],price:12,total:60},{id:2,name:"Item 02",qty:8,variant:"Var 01",lstAddOns:["add01","add02"],price:25,total:200},{id:3,name:"Item 03",qty:6,variant:"Var 01",lstAddOns:["add01","add02"],price:18,total:108},{id:4,name:"Item 04",qty:5,lstAddOns:["add01","add02"],price:33,total:165},{id:5,name:"Item 05",qty:3,variant:"Var 01",price:11,total:33},{id:21,name:"Item 021",qty:3,variant:"Var 01",price:20,total:60},{id:22,name:"Item 22",qty:3,variant:"Var 22",price:36,total:108}]}:{lstItems:[{id:6,name:"Item 6",qty:2,variant:"Var 01",lstAddOns:["add01","add02"],price:10,total:20},{id:7,name:"Item 07",qty:7,variant:"Var 07",lstAddOns:["add01","add02"],price:24,total:168},{id:8,name:"Item 8",qty:5,variant:"Var 01",lstAddOns:["add08","add02"],price:15,total:75},{id:9,name:"Item 9",qty:4,lstAddOns:["add01","add09"],price:22,total:88},{id:11,name:"Item 011",qty:1,variant:"Var 01",price:30,total:30},{id:31,name:"Item 031",qty:3,variant:"Var 01",price:17,total:51},{id:33,name:"Item 33",qty:3,variant:"Var 33",price:28,total:84}]})}GetCompanyInfo(e){return(0,m.of)({lockTableImg:"lockTableIcon.png",selectTableImg:"selectTable.png"})}AddDepartment(e){return this.http.post(`${this.mainRoute}/AddDepartment`,e)}DepartmentDetails(e){return this.http.get(`${this.mainRoute}/DepartmentDetails?id=${e}`)}DepartmentsList(e){return this.http.getWithObj(`${this.mainRoute}/DepartmentsList`,e)}AddItem(e){return this.http.post(`${this.mainRoute}/AddItem`,e)}ItemDetails(e){return this.http.get(`${this.mainRoute}/ItemDetails?Id=${e}`)}ItemsList(e){return this.http.getWithObj(`${this.mainRoute}/ItemsList`,e)}ItemListWithDetails(e){return this.http.getWithObj(`${this.mainRoute}/ItemListWithDetails`,e)}AddInvoice(e){return console.log("Order Submitted"),this.http.post(`${this.mainRoute}/AddInvoice`,e)}InvoiceCommands(e){return this.http.post(`${this.mainRoute}/InvoiceCommands`,e)}InvoiceDetails(e){return this.http.getWithObj(`${this.mainRoute}/InvoiceDetails`,e)}InvoiceReportQuery(e){return this.http.get(`${this.mainRoute}/InvoiceReportQuery?Id=${e}`)}InvoiceList(e){return this.http.getWithObj(`${this.mainRoute}/InvoiceList`,e)}EarningReportQuery(e){return this.http.getWithObj(`${this.mainRoute}/EarningReportQuery`,e)}DebitsListQuery(e){return this.http.getWithObj(`${this.mainRoute}/DebitsListQuery`,e)}take(e,o){return e.filter((g,v)=>v<o)}skip(e,o){return e.filter((g,v)=>v>=o)}readLocal(e){let o=localStorage.getItem(e);return o?JSON.parse(o):null}setLocal(e,o){return localStorage.setItem(e,JSON.stringify(o)),!0}getRandomInt(e){return Math.floor(Math.random()*e)}static#t=this.\u0275fac=function(o){return new(o||h)(u.LFG(t.q),u.LFG(A.j))};static#e=this.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);