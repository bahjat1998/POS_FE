"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[374],{3374:(b,f,s)=>{s.r(f),s.d(f,{AddItemModule:()=>K});var m=s(6895),o=s(3559),t=s(4650),C=s(3407),x=s(2924),g=s(2477),Z=s(5603),i=s(4006),_=s(1835),T=s(7433),c=s(4463);const v=function(a){return{"bg-primary text-white":a}};function u(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",23),t.NdJ("click",function(){const d=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.selectTab(d))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&a){const e=p.$implicit,l=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(4,v,l.selectedTab.value===e.value)),t.xp6(1),t.Oqu(t.lcZ(3,2,e.label))}}function h(a,p){1&a&&(t.TgZ(0,"th",30),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Barcode")," "))}function A(a,p){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&a){const e=p.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}function I(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"td",36)(1,"input",6),t.NdJ("ngModelChange",function(n){t.CHM(e);const d=t.oxw().$implicit;return t.KtG(d.barcode=n)}),t.qZA()()}if(2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",e.barcode)}}function y(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"td",36)(1,"input",10),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit,M=t.oxw().$implicit;return t.KtG(M[r.str1]=n)}),t.qZA()()}if(2&a){const e=p.$implicit,l=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",l[e.str1])}}function O(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"tr",32)(1,"th",33),t._uU(2),t.qZA(),t.YNc(3,I,2,1,"td",34),t.TgZ(4,"td",35)(5,"input",10),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.count=n)}),t.qZA()(),t.TgZ(6,"td",36)(7,"ng-select",37),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.unitId=n)}),t.qZA()(),t.YNc(8,y,2,1,"td",38),t.TgZ(9,"td",36)(10,"button",39),t.NdJ("click",function(){const d=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.deleteRow("lstUnits",d))}),t._UZ(11,"icon-trash-lines",40),t.qZA()()()}if(2&a){const e=p.$implicit,l=p.index,n=t.oxw(2);t.xp6(2),t.hij(" ",l+1," "),t.xp6(1),t.Q6J("ngIf",0==n.modal.itemType),t.xp6(2),t.Q6J("ngModel",e.count),t.xp6(2),t.Q6J("items",n.lstLkps.ItemUnits)("ngModel",e.unitId)("clearable",!1),t.xp6(1),t.Q6J("ngForOf",n.lstLkps.ItemsPricesLists)}}function L(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",24)(2,"a",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.newRow("lstUnits"))}),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"table",26)(6,"thead",27)(7,"tr")(8,"th",28),t._uU(9," # "),t.qZA(),t.YNc(10,h,3,3,"th",29),t.TgZ(11,"th",28),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",30),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.YNc(17,A,2,1,"th",18),t.qZA()(),t.TgZ(18,"tbody"),t.YNc(19,O,12,7,"tr",31),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,"New")),t.xp6(7),t.Q6J("ngIf",0==e.modal.itemType),t.xp6(2),t.hij(" ",t.lcZ(13,8,"ItemNums")," "),t.xp6(3),t.hij(" ",t.lcZ(16,10,"Unit")," "),t.xp6(2),t.Q6J("ngForOf",e.lstLkps.ItemsPricesLists),t.xp6(2),t.Q6J("ngForOf",e.modal.lstUnits)}}function q(a,p){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&a){const e=p.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}function U(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"td",36)(1,"input",10),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit,M=t.oxw().$implicit;return t.KtG(M[r.str1]=n)}),t.qZA()()}if(2&a){const e=p.$implicit,l=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",l[e.str1])}}function N(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"tr",32)(1,"th",33),t._uU(2),t.qZA(),t.TgZ(3,"td",41)(4,"app-file-upload",15),t.NdJ("imageSelected",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.img=n)}),t.qZA()(),t.TgZ(5,"td",35)(6,"input",6),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.name=n)}),t.qZA()(),t.YNc(7,U,2,1,"td",38),t.TgZ(8,"td",35)(9,"label",42)(10,"input",43),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.repalceCurrentItemName=n)}),t.qZA(),t._UZ(11,"span",44),t.qZA()(),t.TgZ(12,"td",35)(13,"label",42)(14,"input",43),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.asTotalPrice=n)}),t.qZA(),t._UZ(15,"span",44),t.qZA()(),t.TgZ(16,"td",36)(17,"button",39),t.NdJ("click",function(){const d=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.deleteRow("lstVariants",d))}),t._UZ(18,"icon-trash-lines",40),t.qZA()()()}if(2&a){const e=p.$implicit,l=p.index,n=t.oxw(2);t.xp6(2),t.hij(" ",l+1," "),t.xp6(2),t.Q6J("image",e.img)("height","100px"),t.xp6(2),t.Q6J("ngModel",e.name),t.xp6(1),t.Q6J("ngForOf",n.lstLkps.ItemsPricesLists),t.xp6(3),t.Q6J("ngModel",e.repalceCurrentItemName),t.xp6(4),t.Q6J("ngModel",e.asTotalPrice)}}function F(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",24)(2,"a",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.newRow("lstVariants"))}),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"table",26)(6,"thead",27)(7,"tr")(8,"th",28),t._uU(9," # "),t.qZA(),t.TgZ(10,"th",30),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",30),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.YNc(16,q,2,1,"th",18),t.TgZ(17,"th",28),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"th",28),t._uU(21),t.ALo(22,"translate"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,N,19,7,"tr",31),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"New")),t.xp6(8),t.hij(" ",t.lcZ(12,9,"Image")," "),t.xp6(3),t.hij(" ",t.lcZ(15,11,"Name")," "),t.xp6(2),t.Q6J("ngForOf",e.lstLkps.ItemsPricesLists),t.xp6(2),t.hij(" ",t.lcZ(19,13,"RepalceCurrentItemName")," "),t.xp6(3),t.hij(" ",t.lcZ(22,15,"AsTotalPrice")," "),t.xp6(3),t.Q6J("ngForOf",e.modal.lstVariants)}}function Q(a,p){if(1&a&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&a){const e=p.$implicit;t.xp6(1),t.hij(" ",e.label," ")}}function D(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"td",36)(1,"input",10),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit,M=t.oxw().$implicit;return t.KtG(M[r.str1]=n)}),t.qZA()()}if(2&a){const e=p.$implicit,l=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",l[e.str1])}}function w(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"tr",32)(1,"th",33),t._uU(2),t.qZA(),t.TgZ(3,"td",36)(4,"ng-select",37),t.NdJ("ngModelChange",function(n){const r=t.CHM(e).$implicit;return t.KtG(r.addOnId=n)}),t.qZA()(),t.YNc(5,D,2,1,"td",38),t.TgZ(6,"td",36)(7,"button",39),t.NdJ("click",function(){const d=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.deleteRow("lstItemAddOns",d))}),t._UZ(8,"icon-trash-lines",40),t.qZA()()()}if(2&a){const e=p.$implicit,l=p.index,n=t.oxw(2);t.xp6(2),t.hij(" ",l+1," "),t.xp6(2),t.Q6J("items",n.lstLkps.lstItemsLkp)("ngModel",e.addOnId)("clearable",!1),t.xp6(1),t.Q6J("ngForOf",n.lstLkps.ItemsPricesLists)}}function k(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",45)(2,"div")(3,"label",42)(4,"input",43),t.NdJ("ngModelChange",function(n){t.CHM(e);const d=t.oxw();return t.KtG(d.modal.isAddOnsMultiSelection=n)}),t.qZA(),t.TgZ(5,"span",44),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"a",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.newRow("lstItemAddOns"))}),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"table",26)(12,"thead",27)(13,"tr")(14,"th",28),t._uU(15," # "),t.qZA(),t.TgZ(16,"th",30),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,Q,2,1,"th",18),t.qZA()(),t.TgZ(20,"tbody"),t.YNc(21,w,9,5,"tr",31),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.modal.isAddOnsMultiSelection),t.xp6(2),t.Oqu(t.lcZ(7,6,"isAddOnsMultiSelection")),t.xp6(3),t.Oqu(t.lcZ(10,8,"New")),t.xp6(8),t.hij(" ",t.lcZ(18,10,"Name")," "),t.xp6(2),t.Q6J("ngForOf",e.lstLkps.ItemsPricesLists),t.xp6(2),t.Q6J("ngForOf",e.modal.lstItemAddOns)}}const J=function(a){return{"has-error":a}},E=[{path:"",component:(()=>{class a{constructor(e,l,n,d){this.lookupsService=e,this.managementService=l,this.common=n,this.route=d,this.lang="labelEn",this.modal={},this.lstData=[],this.selectedTab={},this.lstTabs=[{label:"ItemPrices",value:0},{label:"ItemVariants",value:1},{label:"AddOns",value:2}],this.lstLkpKeys=["lstItemType","ItemGroups","SubItemGroups","Stores","ItemUnits","ItemsPricesLists","lstItemsLkp"],this.lstLkps={},this.reqFields=["nameEn","nameAr","defaultUnitId"],this.inputFailds={},this.Id=this.route.snapshot.paramMap.get("id"),this.selectTab(this.lstTabs[0])}selectTab(e){this.selectedTab=e}ngOnInit(){this.pageInit(),this.common.loadLkps(this.lstLkpKeys,this.lstLkps)}pageInit(){this.Id?this.GetDetails(this.Id):this.modal={isActive:"true"}}GetDetails(e){this.managementService.ItemDetails(e).subscribe(l=>{this.modal=this.parseObjFromServer(l)})}parseObjFromServer(e){return e.lstDepartmentBranches&&(e._lstDepartmentBranches=e.lstDepartmentBranches.map(l=>l.branchId)),e.isActive=1==e.isActive?"true":"false",e}prepareObjToServer(e){return e.isActive="true"==e.isActive,e._lstDepartmentBranches&&(e.lstDepartmentBranches=e._lstDepartmentBranches.map(l=>({branchId:l}))),e}save(){let e=this.common.checkValidation(this.modal,this.reqFields);if(e.isValid){let l=this.prepareObjToServer(this.modal);this.managementService.AddItem(l).subscribe({next:n=>{this.inputFailds={},n.status&&(this.common.success("\u062a\u0645 \u0627\u0644\u062d\u0641\u0638"),this.Id=n.entityId,this.GetDetails(this.Id)),n.lstError.length>0&&this.common.error("Error",n.lstError[0])},error:n=>{this.common.error("Fill required fields","")}})}else this.inputFailds=e.failerFields,this.common.error("Fill required fields","")}back(){this.common.navigateTo("../system/items")}deleteRow(e,l){this.modal[e].splice(l,1)}newRow(e){this.modal[e]||(this.modal[e]=[]),this.modal[e].push({})}static#t=this.\u0275fac=function(l){return new(l||a)(t.Y36(C.K),t.Y36(x.i),t.Y36(g.j),t.Y36(o.gz))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-item"]],decls:83,vars:82,consts:[[1,"space-y-2","p-2"],[1,"gap-3","grid","grid-cols-5"],[1,"col-span-4","panel"],[1,"mb-4","font-semibold","dark:text-white-light","text-lg"],[1,"gap-3","grid","grid-cols-4"],[3,"ngClass"],["type","text",1,"form-input",3,"ngModel","ngModelChange"],["bindLabel","label","bindValue","value",1,"form-control",3,"items","ngModel","ngModelChange"],[1,"flex","gap-x-2"],["type","number",1,"form-input",3,"placeholder","ngModel","ngModelChange"],["type","number",1,"form-input",3,"ngModel","ngModelChange"],[1,"col-span-2"],[1,"form-label"],["rows","3",1,"form-input",3,"ngModel","ngModelChange"],[1,"col-span-1"],[3,"image","height","imageSelected"],[1,"panel"],[1,"flex","flex-wrap"],[4,"ngFor","ngForOf"],["class","panel",4,"ngIf"],[1,"flex","justify-end"],[1,"me-2","mt-1","btn","btn-danger",3,"click"],[1,"mt-1","btn","btn-success",3,"click"],["href","javascript:",1,"block","hover:bg-primary","ltr:mr-2","-mb-[1px]","rtl:ml-2","p-3.5","py-2","rounded","hover:text-white",3,"ngClass","click"],[1,"flex","justify-end","mb-2"],[1,"mt-1","btn","btn-primary",3,"click"],[1,"w-full","text-gray-500","dark:text-gray-400","text-sm","text-left","rtl:text-right"],[1,"text-gray-700","dark:text-gray-400","text-xs","uppercase"],[1,"bg-gray-50","dark:bg-gray-800","px-6","py-3"],["class","px-6 py-3",4,"ngIf"],[1,"px-6","py-3"],["class","border-gray-200 dark:border-gray-700 border-b",4,"ngFor","ngForOf"],[1,"border-gray-200","dark:border-gray-700","border-b"],[1,"f-col"],["class","px-6 py-4",4,"ngIf"],[1,"bg-gray-50","dark:bg-gray-800","px-6","py-4"],[1,"px-6","py-4"],["bindLabel","label","bindValue","value",3,"items","ngModel","clearable","ngModelChange"],["class","px-6 py-4",4,"ngFor","ngForOf"],["type","button",1,"ml-auto","hover:text-danger",3,"click"],[1,"w-4.5","h-4.5"],[1,"px-6","py-4",2,"width","150px"],[1,"inline-flex"],["type","checkbox",1,"peer","form-checkbox",3,"ngModel","ngModelChange"],[1,"peer-checked:text-primary"],[1,"flex","justify-between","mb-2"]],template:function(l,n){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("ngModelChange",function(r){return n.modal.nameEn=r}),t.qZA()(),t.TgZ(12,"div",5)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",6),t.NdJ("ngModelChange",function(r){return n.modal.nameAr=r}),t.qZA()(),t.TgZ(17,"div")(18,"label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"ng-select",7),t.NdJ("ngModelChange",function(r){return n.modal.itemType=r}),t.qZA()(),t.TgZ(22,"div",5)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"ng-select",7),t.NdJ("ngModelChange",function(r){return n.modal.defaultUnitId=r}),t.qZA()(),t.TgZ(27,"div")(28,"label"),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"ng-select",7),t.NdJ("ngModelChange",function(r){return n.modal.groupId=r}),t.qZA()(),t.TgZ(32,"div")(33,"label"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"ng-select",7),t.NdJ("ngModelChange",function(r){return n.modal.subGroupId=r}),t.qZA()(),t.TgZ(37,"div")(38,"label"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"ng-select",7),t.NdJ("ngModelChange",function(r){return n.modal.storeId=r}),t.qZA()(),t.TgZ(42,"div")(43,"label"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"div",8)(47,"input",9),t.NdJ("ngModelChange",function(r){return n.modal.minQtyAlarm=r}),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"input",9),t.NdJ("ngModelChange",function(r){return n.modal.maxQtyAlarm=r}),t.ALo(50,"translate"),t.qZA()()(),t.TgZ(51,"div")(52,"label"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"input",10),t.NdJ("ngModelChange",function(r){return n.modal.openingBalanceQty=r}),t.qZA()(),t.TgZ(56,"div")(57,"label"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"ng-select",7),t.NdJ("ngModelChange",function(r){return n.modal.openingBalanceUnitId=r}),t.qZA()(),t.TgZ(61,"div",11)(62,"label",12),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"textarea",13),t.NdJ("ngModelChange",function(r){return n.modal.description=r}),t.qZA()()()(),t.TgZ(66,"div",14)(67,"div")(68,"app-file-upload",15),t.NdJ("imageSelected",function(r){return n.modal.img=r}),t.qZA()()()(),t.TgZ(69,"div",16)(70,"ul",17),t.YNc(71,u,4,6,"li",18),t.qZA()(),t.YNc(72,L,20,12,"div",19),t.YNc(73,F,25,17,"div",19),t.YNc(74,k,22,12,"div",19),t.TgZ(75,"div",16)(76,"div",20)(77,"a",21),t.NdJ("click",function(){return n.back()}),t._uU(78),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"a",22),t.NdJ("click",function(){return n.save()}),t._uU(81),t.ALo(82,"translate"),t.qZA()()()()),2&l&&(t.xp6(4),t.AsE(" ",t.lcZ(5,44,"ItemDetails")," ",n.modal.id?"#"+n.modal.id:"",""),t.xp6(3),t.Q6J("ngClass",t.VKq(76,J,n.inputFailds.nameEn)),t.xp6(2),t.Oqu(t.lcZ(10,46,"EnglishName")),t.xp6(2),t.Q6J("ngModel",n.modal.nameEn),t.xp6(1),t.Q6J("ngClass",t.VKq(78,J,n.inputFailds.nameAr)),t.xp6(2),t.Oqu(t.lcZ(15,48,"ArabicName")),t.xp6(2),t.Q6J("ngModel",n.modal.nameAr),t.xp6(3),t.Oqu(t.lcZ(20,50,"ItemType")),t.xp6(2),t.Q6J("items",n.lstLkps.lstItemType)("ngModel",n.modal.itemType),t.xp6(1),t.Q6J("ngClass",t.VKq(80,J,n.inputFailds.defaultUnitId)),t.xp6(2),t.Oqu(t.lcZ(25,52,"DefaultUnit")),t.xp6(2),t.Q6J("items",n.lstLkps.ItemUnits)("ngModel",n.modal.defaultUnitId),t.xp6(3),t.Oqu(t.lcZ(30,54,"ItemGroup")),t.xp6(2),t.Q6J("items",n.lstLkps.ItemGroups)("ngModel",n.modal.groupId),t.xp6(3),t.Oqu(t.lcZ(35,56,"SubItemGroup")),t.xp6(2),t.Q6J("items",n.lstLkps.SubItemGroups)("ngModel",n.modal.subGroupId),t.xp6(3),t.Oqu(t.lcZ(40,58,"StorePlace")),t.xp6(2),t.Q6J("items",n.lstLkps.Stores)("ngModel",n.modal.storeId),t.xp6(3),t.Oqu(t.lcZ(45,60,"QtyAlarm")),t.xp6(3),t.s9C("placeholder",t.lcZ(48,62,"MinQtyAlarm")),t.Q6J("ngModel",n.modal.minQtyAlarm),t.xp6(2),t.s9C("placeholder",t.lcZ(50,64,"MaxQtyAlarm")),t.Q6J("ngModel",n.modal.maxQtyAlarm),t.xp6(4),t.Oqu(t.lcZ(54,66,"OpeningBalanceQty")),t.xp6(2),t.Q6J("ngModel",n.modal.openingBalanceQty),t.xp6(3),t.Oqu(t.lcZ(59,68,"OpeningBalanceUnitId")),t.xp6(2),t.Q6J("items",n.lstLkps.ItemUnits)("ngModel",n.modal.openingBalanceUnitId),t.xp6(3),t.Oqu(t.lcZ(64,70,"Description")),t.xp6(2),t.Q6J("ngModel",n.modal.description),t.xp6(3),t.Q6J("image",n.modal.img)("height","350px"),t.xp6(3),t.Q6J("ngForOf",n.lstTabs),t.xp6(1),t.Q6J("ngIf",0==n.selectedTab.value),t.xp6(1),t.Q6J("ngIf",1==n.selectedTab.value),t.xp6(1),t.Q6J("ngIf",2==n.selectedTab.value),t.xp6(4),t.Oqu(t.lcZ(79,72,"Discard")),t.xp6(3),t.Oqu(t.lcZ(82,74,"Save")))},dependencies:[m.mk,m.sg,m.O5,Z.p,i.Fj,i.wV,i.Wl,i.JJ,i.On,_.w9,T.Y,c.X$]})}return a})()}];let $=(()=>{class a{static#t=this.\u0275fac=function(l){return new(l||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[o.Bz.forChild(E),o.Bz]})}return a})();var R=s(4868),P=s(4180),S=s(9886),G=s(9116),j=s(7368);let K=(()=>{class a{static#t=this.\u0275fac=function(l){return new(l||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[m.ez,$,G.Q,i.u5,R.tA,i.UX,c.aw,P.$9,_.A0,S.zk,j.O]})}return a})()},7433:(b,f,s)=>{s.d(f,{Y:()=>T});var m=s(5861),o=s(4650),t=s(2477),C=s(6895);function x(c,v){1&c&&o.GkF(0)}const g=function(c){return{height:c}};function Z(c,v){if(1&c){const u=o.EpF();o.TgZ(0,"div",3)(1,"label",4)(2,"div",5),o.YNc(3,x,1,0,"ng-container",6),o.qZA(),o.TgZ(4,"div",7),o._uU(5,"Upload your photo"),o.qZA(),o.TgZ(6,"input",8),o.NdJ("change",function(A){o.CHM(u);const I=o.oxw();return o.KtG(I.onFileSelected(A))}),o.qZA()()()}if(2&c){const u=o.oxw(),h=o.MAs(4);o.Q6J("ngStyle",o.VKq(4,g,u.height)),o.xp6(1),o.Q6J("for",u.uniqueId),o.xp6(2),o.Q6J("ngTemplateOutlet",h),o.xp6(3),o.Q6J("id",u.uniqueId)}}function i(c,v){if(1&c){const u=o.EpF();o.TgZ(0,"div",9)(1,"img",10),o.NdJ("click",function(){o.CHM(u);const A=o.oxw();return o.KtG(A.triggerFileInput())}),o.qZA(),o.TgZ(2,"input",8),o.NdJ("change",function(A){o.CHM(u);const I=o.oxw();return o.KtG(I.onFileSelected(A))}),o.qZA()()}if(2&c){const u=o.oxw();o.Q6J("ngStyle",o.VKq(3,g,u.height)),o.xp6(1),o.Q6J("src",u.imageUrl,o.LSH),o.xp6(1),o.Q6J("id",u.uniqueId)}}function _(c,v){1&c&&(o.O4$(),o.TgZ(0,"svg",11),o._UZ(1,"path",12)(2,"path",13)(3,"path",14),o.qZA())}let T=(()=>{class c{set image(u){this.imageUrl=this.common.getAttachemntUrl(u)}constructor(u){this.common=u,this.height="200px",this.uniqueId="file-input-"+Math.random().toString(36).substring(2,15),this.imageSelected=new o.vpe}onFileSelected(u){var h=this;return(0,m.Z)(function*(){const A=u.target.files[0];if(A){const I=new FileReader;I.onload=O=>{h.imageUrl=O.target.result},I.readAsDataURL(A);let y=yield h.common.saveFiles(A);h.imageUrl=h.common.getAttachemntUrl(h.imageUrl),h.imageSelected.emit(y)}})()}triggerFileInput(){document.getElementById(this.uniqueId).click()}static#t=this.\u0275fac=function(h){return new(h||c)(o.Y36(t.j))};static#e=this.\u0275cmp=o.Xpm({type:c,selectors:[["app-file-upload"]],inputs:{height:"height",image:"image"},outputs:{imageSelected:"imageSelected"},decls:5,vars:2,consts:[["class","upload-container",3,"ngStyle",4,"ngIf","ngIfElse"],["imageTemplate",""],["imgSvg",""],[1,"upload-container",3,"ngStyle"],[1,"upload-label",3,"for"],[1,"upload-icon"],[4,"ngTemplateOutlet"],[1,"upload-text"],["type","file","hidden","",3,"id","change"],[1,"image-container",3,"ngStyle"],["alt","Uploaded photo",3,"src","click"],["xmlns","http://www.w3.org/2000/svg","width","50px","height","50px","viewBox","0 0 48 48","fill","none"],["d","M20.5152 7C18.9718 7 17.5496 7.83679 16.8 9.18602L15.5145 11.5H11.75C8.57436 11.5 6 14.0744 6 17.25V34.25C6 37.4256 8.57436 40 11.75 40H22.9963C22.6642 39.2037 22.4091 38.3672 22.2402 37.5H11.75C9.95507 37.5 8.5 36.0449 8.5 34.25V17.25C8.5 15.4551 9.95507 14 11.75 14H16.9855L18.9854 10.4001C19.2941 9.84456 19.8797 9.5 20.5152 9.5H27.4848C28.1203 9.5 28.7059 9.84456 29.0146 10.4001L31.0145 14H36.25C38.0449 14 39.5 15.4551 39.5 17.25V22.7999C40.3823 23.1255 41.2196 23.544 42 24.0436V17.25C42 14.0744 39.4256 11.5 36.25 11.5H32.4855L31.2 9.18602C30.4504 7.83679 29.0282 7 27.4848 7H20.5152Z","fill","#212121"],["d","M24 17C27.5278 17 30.5222 19.2834 31.586 22.4529C30.7711 22.6741 29.988 22.9726 29.2451 23.34C28.5411 21.1138 26.459 19.5 24 19.5C20.9624 19.5 18.5 21.9624 18.5 25C18.5 27.6415 20.3622 29.8481 22.8454 30.3786C22.5516 31.151 22.3292 31.9587 22.1865 32.7936C18.6418 31.972 16 28.7945 16 25C16 20.5817 19.5817 17 24 17Z","fill","#212121"],["d","M46 35C46 41.0751 41.0751 46 35 46C28.9249 46 24 41.0751 24 35C24 28.9249 28.9249 24 35 24C41.0751 24 46 28.9249 46 35ZM36 29C36 28.4477 35.5523 28 35 28C34.4477 28 34 28.4477 34 29V34H29C28.4477 34 28 34.4477 28 35C28 35.5523 28.4477 36 29 36H34V41C34 41.5523 34.4477 42 35 42C35.5523 42 36 41.5523 36 41V36H41C41.5523 36 42 35.5523 42 35C42 34.4477 41.5523 34 41 34H36V29Z","fill","#212121"]],template:function(h,A){if(1&h&&(o.YNc(0,Z,7,6,"div",0),o.YNc(1,i,3,5,"ng-template",null,1,o.W1O),o.YNc(3,_,4,0,"ng-template",null,2,o.W1O)),2&h){const I=o.MAs(2);o.Q6J("ngIf",!A.imageUrl)("ngIfElse",I)}},dependencies:[C.O5,C.tP,C.PC],styles:[".upload-container[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:200px;border:2px dashed #b3b3b3;border-radius:10px;cursor:pointer;transition:background-color .3s}.upload-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:93%;height:93%}.upload-container[_ngcontent-%COMP%]:hover, .image-container[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.upload-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;cursor:pointer}.upload-icon[_ngcontent-%COMP%]{width:50px;height:50px}.upload-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.upload-text[_ngcontent-%COMP%]{margin-top:10px;font-size:16px;color:#b3b3b3}"]})}return c})()},7368:(b,f,s)=>{s.d(f,{O:()=>Z});var m=s(6895),o=s(3559),t=s(7433),C=s(4650);const x=[{path:"",component:t.Y}];let g=(()=>{class i{static#t=this.\u0275fac=function(c){return new(c||i)};static#e=this.\u0275mod=C.oAB({type:i});static#n=this.\u0275inj=C.cJS({imports:[o.Bz.forChild(x),o.Bz]})}return i})(),Z=(()=>{class i{static#t=this.\u0275fac=function(c){return new(c||i)};static#e=this.\u0275mod=C.oAB({type:i});static#n=this.\u0275inj=C.cJS({imports:[m.ez,g]})}return i})()},5603:(b,f,s)=>{s.d(f,{p:()=>x});var m=s(4650),o=s(6895);const t=["template"];function C(g,Z){if(1&g&&(m.O4$(),m.TgZ(0,"svg",1),m._UZ(1,"path",2)(2,"path",3)(3,"path",4)(4,"path",5)(5,"path",6),m.qZA()),2&g){const i=m.oxw();m.Q6J("ngClass",i.class)}}let x=(()=>{class g{constructor(i){this.viewContainerRef=i,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(_){return new(_||g)(m.Y36(m.s_b))};static#e=this.\u0275cmp=m.Xpm({type:g,selectors:[["icon-trash-lines"]],viewQuery:function(_,T){if(1&_&&m.Gf(t,7),2&_){let c;m.iGM(c=m.CRH())&&(T.template=c.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["d","M20.5001 6H3.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M18.8334 8.5L18.3735 15.3991C18.1965 18.054 18.108 19.3815 17.243 20.1907C16.378 21 15.0476 21 12.3868 21H11.6134C8.9526 21 7.6222 21 6.75719 20.1907C5.89218 19.3815 5.80368 18.054 5.62669 15.3991L5.16675 8.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M9.5 11L10 16","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M14.5 11L14 16","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M6.5 6C6.55588 6 6.58382 6 6.60915 5.99936C7.43259 5.97849 8.15902 5.45491 8.43922 4.68032C8.44784 4.65649 8.45667 4.62999 8.47434 4.57697L8.57143 4.28571C8.65431 4.03708 8.69575 3.91276 8.75071 3.8072C8.97001 3.38607 9.37574 3.09364 9.84461 3.01877C9.96213 3 10.0932 3 10.3553 3H13.6447C13.9068 3 14.0379 3 14.1554 3.01877C14.6243 3.09364 15.03 3.38607 15.2493 3.8072C15.3043 3.91276 15.3457 4.03708 15.4286 4.28571L15.5257 4.57697C15.5433 4.62992 15.5522 4.65651 15.5608 4.68032C15.841 5.45491 16.5674 5.97849 17.3909 5.99936C17.4162 6 17.4441 6 17.5 6","stroke","currentColor","stroke-width","1.5"]],template:function(_,T){1&_&&m.YNc(0,C,6,1,"ng-template",null,0,m.W1O)},dependencies:[o.mk],encapsulation:2})}return g})()},2924:(b,f,s)=>{s.d(f,{i:()=>x});var m=s(9646),o=s(4650),t=s(1801),C=s(2477);let x=(()=>{class g{constructor(i,_){this.http=i,this.common=_,this.mainRoute="Management"}GetFloorsData(i){return(0,m.of)({lstData:[{id:1,name:"Floor #1",img:"TableFloor01.svg"},{id:2,name:"Floor #2",img:"TableFloor02.svg"},{id:3,name:"Floor #3",img:"TableFloor03.svg"}]})}GetTables(i){return(0,m.of)({lstData:[{id:1,name:"T-1",status:0,label:""},{id:2,name:"T-2",status:1,label:""},{id:3,name:"T-3",status:0,label:""},{id:4,name:"T-4",status:1,label:""},{id:5,name:"T-5",status:2,itemsCount:"5"},{id:6,name:"T-6",status:2,itemsCount:"5"},{id:7,name:"T-7",status:1,label:""},{id:8,name:"T-8",status:2,itemsCount:"5"},{id:9,name:"T-9",status:0,label:""},{id:10,name:"T-10",status:2,label:""},{id:11,name:"T-11",status:0,label:""},{id:12,name:"T-12",status:2,label:""}]})}OrdersList(i){return(0,m.of)({lstData:[{id:4,tableName:"T-1",posType:0,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-19 08:51:11.6836747",createByName:"Ahmad Jamal"},{id:1231,tableName:"T-2",posType:1,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-20 02:51:11.6836747",createByName:"Ahmad Jamal"},{id:1432,tableName:"T-13",posType:2,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-25 07:51:11.6836747",createByName:"Ahmad Jamal"},{id:4,tableName:"T-11",posType:0,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-19 08:51:11.6836747",createByName:"Ahmad Jamal"},{id:1231,tableName:"T-6",posType:1,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-20 02:51:11.6836747",createByName:"Ahmad Jamal"},{id:1432,tableName:"T-8",posType:2,amount:50,customerName:"For Customer #Ahmad",createDate:"2024-08-25 07:51:11.6836747",createByName:"Ahmad Jamal"}],rowsCount:50})}OrderDetails(i){return(0,m.of)(1==i.id?{id:954,customerName:"Daily Sales",orderType:"Table",tableName:"A1",dateTime:"2025-04-06T08:19:49Z",lstItems:[{id:1,name:"Item 01",qty:5,variant:"Var 01",lstAddOns:["add01","add02"],price:12,total:60},{id:2,name:"Item 02",qty:8,variant:"Var 01",lstAddOns:["add01","add02"],price:25,total:200},{id:3,name:"Item 03",qty:6,variant:"Var 01",lstAddOns:["add01","add02"],price:18,total:108},{id:4,name:"Item 04",qty:5,lstAddOns:["add01","add02"],price:33,total:165},{id:5,name:"Item 05",qty:3,variant:"Var 01",price:11,total:33},{id:21,name:"Item 021",qty:3,variant:"Var 01",price:20,total:60},{id:22,name:"Item 22",qty:3,variant:"Var 22",price:36,total:108}]}:{lstItems:[{id:6,name:"Item 6",qty:2,variant:"Var 01",lstAddOns:["add01","add02"],price:10,total:20},{id:7,name:"Item 07",qty:7,variant:"Var 07",lstAddOns:["add01","add02"],price:24,total:168},{id:8,name:"Item 8",qty:5,variant:"Var 01",lstAddOns:["add08","add02"],price:15,total:75},{id:9,name:"Item 9",qty:4,lstAddOns:["add01","add09"],price:22,total:88},{id:11,name:"Item 011",qty:1,variant:"Var 01",price:30,total:30},{id:31,name:"Item 031",qty:3,variant:"Var 01",price:17,total:51},{id:33,name:"Item 33",qty:3,variant:"Var 33",price:28,total:84}]})}GetCompanyInfo(i){return(0,m.of)({lockTableImg:"lockTableIcon.png",selectTableImg:"selectTable.png"})}AddDepartment(i){return this.http.post(`${this.mainRoute}/AddDepartment`,i)}DepartmentDetails(i){return this.http.get(`${this.mainRoute}/DepartmentDetails?id=${i}`)}DepartmentsList(i){return this.http.getWithObj(`${this.mainRoute}/DepartmentsList`,i)}AddItem(i){return this.http.post(`${this.mainRoute}/AddItem`,i)}ItemDetails(i){return this.http.get(`${this.mainRoute}/ItemDetails?Id=${i}`)}ItemsList(i){return this.http.getWithObj(`${this.mainRoute}/ItemsList`,i)}ItemListWithDetails(i){return this.http.getWithObj(`${this.mainRoute}/ItemListWithDetails`,i)}AddInvoice(i){return console.log("Order Submitted"),this.http.post(`${this.mainRoute}/AddInvoice`,i)}InvoiceCommands(i){return this.http.post(`${this.mainRoute}/InvoiceCommands`,i)}InvoiceDetails(i){return this.http.getWithObj(`${this.mainRoute}/InvoiceDetails`,i)}InvoiceReportQuery(i){return this.http.get(`${this.mainRoute}/InvoiceReportQuery?Id=${i}`)}InvoiceList(i){return this.http.getWithObj(`${this.mainRoute}/InvoiceList`,i)}EarningReportQuery(i){return this.http.getWithObj(`${this.mainRoute}/EarningReportQuery`,i)}DebitsListQuery(i){return this.http.getWithObj(`${this.mainRoute}/DebitsListQuery`,i)}take(i,_){return i.filter((T,c)=>c<_)}skip(i,_){return i.filter((T,c)=>c>=_)}readLocal(i){let _=localStorage.getItem(i);return _?JSON.parse(_):null}setLocal(i,_){return localStorage.setItem(i,JSON.stringify(_)),!0}getRandomInt(i){return Math.floor(Math.random()*i)}static#t=this.\u0275fac=function(_){return new(_||g)(o.LFG(t.q),o.LFG(C.j))};static#e=this.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()}}]);