"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[911],{3911:(L,h,l)=>{l.r(h),l.d(h,{UsersListModule:()=>S});var n=l(6895),u=l(3559),f=l(5861),m=l(7340),t=l(4650),c=l(6467),T=l(2477),d=l(4463),p=l(3649),g=l(8545),C=l(5603),v=l(4006),x=l(4868),M=l(1835);function Z(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"strong",30),t.NdJ("click",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t._uU(1),t.qZA()}if(2&s){const e=_.data;t.xp6(1),t.hij("#",e.id,"")}}function y(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t._uU(1),t.qZA()}if(2&s){const e=_.data;t.xp6(1),t.hij(" ",e.nameEn," ")}}function A(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t._uU(1),t.qZA()}if(2&s){const e=_.data;t.xp6(1),t.hij(" ",e.nameAr," ")}}function U(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t.TgZ(1,"div"),t._uU(2),t.qZA()()}if(2&s){const e=_.data;t.xp6(2),t.Oqu(e.cityName)}}function b(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t.TgZ(1,"div"),t._uU(2),t.qZA()()}if(2&s){const e=_.data;t.xp6(2),t.Oqu(e.genderName)}}function k(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"a",32),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t._uU(1),t.qZA()}if(2&s){const e=_.data;t.Q6J("href","mailto:"+e.email,t.LSH),t.xp6(1),t.Oqu(e.email)}}function w(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"a",33),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t._uU(1),t.qZA()}if(2&s){const e=_.data;t.xp6(1),t.Oqu(e.phone1)}}function E(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"a",33),t.NdJ("dblclick",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.accountdbClick(r))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&s){const e=_.data;t.xp6(1),t.Oqu(t.lcZ(2,1,"acc"+e.userType))}}function O(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"div",34)(1,"a",35),t._UZ(2,"icon-edit",36),t.qZA(),t.TgZ(3,"button",37),t.NdJ("click",function(){const r=t.CHM(e).data,a=t.oxw(2);return t.KtG(a.deleteAcc(r.id))}),t._UZ(4,"icon-trash-lines"),t.qZA()()}if(2&s){const e=_.data;t.xp6(1),t.Q6J("routerLink","./cu/"+e.id)}}const N=function(){return[10,15,30,50]};function I(s,_){if(1&s){const e=t.EpF();t.TgZ(0,"div",19)(1,"ng-datatable",20),t.NdJ("changeServer",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.changeServer(o))}),t.YNc(2,Z,2,1,"ng-template",21),t.YNc(3,y,2,1,"ng-template",22),t.YNc(4,A,2,1,"ng-template",23),t.YNc(5,U,3,1,"ng-template",24),t.YNc(6,b,3,1,"ng-template",25),t.YNc(7,k,2,2,"ng-template",26),t.YNc(8,w,2,1,"ng-template",27),t.YNc(9,E,3,3,"ng-template",28),t.YNc(10,O,5,1,"ng-template",29),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("rows",e.lstData)("columns",e.cols)("sortable",!0)("loading",e.loading)("totalRows",e.params.rowsCount)("isServerMode",!0)("pageSize",e.params.ps)("sortDirection",e.params.asc?"asc":"desc")("pageSizeOptions",t.DdM(9,N))}}const J=[{path:"",component:(()=>{class s{constructor(e,i,o,r){this.accountService=e,this.common=i,this.translate=o,this.route=r,this.lstData=[],this.lstLkpKeys=["Gender","City"],this.lstLkps={},this.loading=!1,this.lstWords={aysactv:"",aysuwtdti:"","?":""},this.route.paramMap.subscribe(a=>{this.initPage()}),this.initPage(),this.common.translateList(this.lstWords)}initPage(){this.initParams(),this.initCols(),this.search(),this.translateCallback(),this.common.loadLkps(this.lstLkpKeys,this.lstLkps)}translateCallback(){this.cols.forEach(e=>{this.translate.get(e.title).subscribe(i=>{e.title=i})}),this.common.lstUserTypes.forEach(e=>{this.translate.get(e.label).subscribe(i=>{e.label=i})})}search(){setTimeout(()=>{this.loading=!0;let e={...this.params,isActive:"0"!=this.params.isActive};this.accountService.AccountList(e).subscribe(i=>{i.lstData.forEach((o,r)=>{let a=this.common.lstUserTypes.find(G=>G.value==o.userType);a&&(o.type={color:a.color,label:a.label})}),this.lstData=i.lstData,this.params.rowsCount=i.rowsCount,this.loading=!1})},2)}initCols(){this.cols=[{field:"id",title:"ID",isUnique:!0},{field:"nameEn",title:"EnglishName"},{field:"nameAr",title:"ArabicName"},{field:"email",title:"Email"},{field:"phone1",title:"Phone"},{field:"cityId",title:"City"},{field:"genderId",title:"Gender"},{field:"userType",title:"Type"},{field:"actions",title:"Actions",sort:!1}]}initParams(){this.params={p:1,ps:15,rowsCount:25,strSearch:"",OB:"id",asc:!1,isActive:"1",userType:[0,1,4]}}pageSizeChange(e){}changeServer(e){this.params=this.common.mapDataTableToParams(this.params,e),this.search()}accountdbClick(e){this.common.navigateTo(`/users/cu/${e.id}`)}deleteAcc(e){var i=this;return(0,f.Z)(function*(){(yield i.common.confirmationMessage(void 0,`${i.lstWords.aysuwtdti} ${i.lstWords["?"]}`)).value&&(yield i.common.confirmationMessage(void 0,"After deleting this item, you will not be able to recover it!")).value&&i.accountService.QuickAccountCommands({flag:"DeleteAccount",id:e}).subscribe(a=>{a.status&&(i.search(),i.common.success("Deleted"))})})()}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(c.B),t.Y36(T.j),t.Y36(d.sK),t.Y36(u.gz))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-users-list"]],decls:44,vars:38,consts:[[1,"gap-y-4","grid"],[1,"panel"],[1,"mb-4","font-semibold","dark:text-white-light","text-lg"],[1,"gap-4","grid","grid-cols-3"],[1,"col-span-2"],["for","name"],["id","name","type","text",1,"form-input",3,"ngModel","ngModelChange"],[1,"flex","justify-end","items-end"],[1,"gap-2","h-10","btn","btn-primary",3,"routerLink"],["bindLabel","label","bindValue","value",1,"form-control",3,"items","ngModel","ngModelChange"],[1,"overflow-x-scroll","panel"],[1,"flex","justify-between"],[1,"flex","justify-between","gap-5"],[1,"inline-flex"],["type","radio","name","ia",1,"peer","outline-primary","form-radio",3,"value","ngModel","ngModelChange"],[1,"peer-checked:text-primary"],["type","radio","name","ia",1,"peer","outline-danger","form-radio",3,"value","ngModel","ngModelChange"],[1,"peer-checked:text-danger"],["class","datatable",4,"ngIf"],[1,"datatable"],["paginationInfo","{0} to {1} of {2}","skin","whitespace-nowrap bh-table-hover",3,"rows","columns","sortable","loading","totalRows","isServerMode","pageSize","sortDirection","pageSizeOptions","changeServer"],["slot","id"],["slot","nameEn"],["slot","nameAr"],["slot","cityId"],["slot","genderId"],["slot","email"],["slot","phone1"],["slot","userType"],["slot","actions"],[1,"text-info",3,"click"],[1,"flex","items-center","gap-2",3,"dblclick"],[1,"text-primary","hover:underline",3,"href","dblclick"],[1,"text-primary","hover:underline",3,"dblclick"],[1,"flex","justify-center","items-center","gap-4"],[1,"hover:text-info",3,"routerLink"],[1,"w-4.5","h-4.5"],["type","button",1,"hover:text-danger",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",3)(7,"div",4)(8,"label",5),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("ngModelChange",function(a){return o.params.strSearch=a})("ngModelChange",function(){return o.search()}),t.qZA()(),t.TgZ(12,"div",7)(13,"a",8),t._UZ(14,"icon-plus"),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"div")(18,"label",5),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"ng-select",9),t.NdJ("ngModelChange",function(){return o.search()})("ngModelChange",function(a){return o.params.genderId=a}),t.qZA()(),t.TgZ(22,"div")(23,"label",5),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"ng-select",9),t.NdJ("ngModelChange",function(){return o.search()})("ngModelChange",function(a){return o.params.cityId=a}),t.qZA()()()(),t.TgZ(27,"div",10)(28,"div",11)(29,"h5",2),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",12)(33,"label",13)(34,"input",14),t.NdJ("ngModelChange",function(){return o.search()})("ngModelChange",function(a){return o.params.isActive=a}),t.qZA(),t.TgZ(35,"span",15),t._uU(36),t.ALo(37,"translate"),t.qZA()(),t.TgZ(38,"label",13)(39,"input",16),t.NdJ("ngModelChange",function(){return o.search()})("ngModelChange",function(a){return o.params.isActive=a}),t.qZA(),t.TgZ(40,"span",17),t._uU(41),t.ALo(42,"translate"),t.qZA()()()(),t.YNc(43,I,11,10,"div",18),t.qZA()()),2&i&&(t.xp6(3),t.AsE("",t.lcZ(4,20,"UsersList")," ",t.lcZ(5,22,"Filters"),""),t.xp6(6),t.Oqu(t.lcZ(10,24,"strSearch")),t.xp6(2),t.Q6J("ngModel",o.params.strSearch),t.xp6(2),t.Q6J("routerLink","./cu/"),t.xp6(2),t.hij(" ",t.lcZ(16,26,"AddNew")," "),t.xp6(4),t.Oqu(t.lcZ(20,28,"Gender")),t.xp6(2),t.Q6J("items",o.lstLkps.Gender)("ngModel",o.params.genderId),t.xp6(3),t.Oqu(t.lcZ(25,30,"City")),t.xp6(2),t.Q6J("items",o.lstLkps.City)("ngModel",o.params.cityId),t.xp6(4),t.Oqu(t.lcZ(31,32,"UsersList")),t.xp6(4),t.Q6J("value","1")("ngModel",o.params.isActive),t.xp6(2),t.Oqu(t.lcZ(37,34,"Active")),t.xp6(3),t.Q6J("value","0")("ngModel",o.params.isActive),t.xp6(2),t.Oqu(t.lcZ(42,36,"NotActive")),t.xp6(2),t.Q6J("ngIf",o.cols))},dependencies:[n.O5,u.rH,p.X,g.E,C.p,v.Fj,v._,v.JJ,v.On,x.rr,x.Nr,M.w9,d.X$],data:{animation:[(0,m.X$)("toggleAnimation",[(0,m.eR)(":enter",[(0,m.oB)({opacity:0,transform:"scale(0.95)"}),(0,m.jt)("100ms ease-out",(0,m.oB)({opacity:1,transform:"scale(1)"}))]),(0,m.eR)(":leave",[(0,m.jt)("75ms",(0,m.oB)({opacity:0,transform:"scale(0.95)"}))])])]}})}return s})()}];let D=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(J),u.Bz]})}return s})();var P=l(9116),R=l(4180);let S=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[n.ez,D,P.Q,v.u5,x.tA,v.UX,d.aw,R.$9,M.A0]})}return s})()},3649:(L,h,l)=>{l.d(h,{X:()=>t});var n=l(4650),u=l(6895);const f=["template"];function m(c,T){if(1&c&&(n.O4$(),n.TgZ(0,"svg",1),n._UZ(1,"path",2)(2,"path",3)(3,"path",4),n.qZA()),2&c){const d=n.oxw();n.Q6J("ngClass",d.class)}}let t=(()=>{class c{constructor(d){this.viewContainerRef=d,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(p){return new(p||c)(n.Y36(n.s_b))};static#e=this.\u0275cmp=n.Xpm({type:c,selectors:[["icon-edit"]],viewQuery:function(p,g){if(1&p&&n.Gf(f,7),2&p){let C;n.iGM(C=n.CRH())&&(g.template=C.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["opacity","0.5","d","M22 10.5V12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2H13.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M17.3009 2.80624L16.652 3.45506L10.6872 9.41993C10.2832 9.82394 10.0812 10.0259 9.90743 10.2487C9.70249 10.5114 9.52679 10.7957 9.38344 11.0965C9.26191 11.3515 9.17157 11.6225 8.99089 12.1646L8.41242 13.9L8.03811 15.0229C7.9492 15.2897 8.01862 15.5837 8.21744 15.7826C8.41626 15.9814 8.71035 16.0508 8.97709 15.9619L10.1 15.5876L11.8354 15.0091C12.3775 14.8284 12.6485 14.7381 12.9035 14.6166C13.2043 14.4732 13.4886 14.2975 13.7513 14.0926C13.9741 13.9188 14.1761 13.7168 14.5801 13.3128L20.5449 7.34795L21.1938 6.69914C22.2687 5.62415 22.2687 3.88124 21.1938 2.80624C20.1188 1.73125 18.3759 1.73125 17.3009 2.80624Z","stroke","currentColor","stroke-width","1.5"],["opacity","0.5","d","M16.6522 3.45508C16.6522 3.45508 16.7333 4.83381 17.9499 6.05034C19.1664 7.26687 20.5451 7.34797 20.5451 7.34797M10.1002 15.5876L8.4126 13.9","stroke","currentColor","stroke-width","1.5"]],template:function(p,g){1&p&&n.YNc(0,m,4,1,"ng-template",null,0,n.W1O)},dependencies:[u.mk],encapsulation:2})}return c})()},8545:(L,h,l)=>{l.d(h,{E:()=>t});var n=l(4650),u=l(6895);const f=["template"];function m(c,T){if(1&c&&(n.O4$(),n.TgZ(0,"svg",1),n._UZ(1,"line",2)(2,"line",3),n.qZA()),2&c){const d=n.oxw();n.Q6J("ngClass",d.class)}}let t=(()=>{class c{constructor(d){this.viewContainerRef=d,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(p){return new(p||c)(n.Y36(n.s_b))};static#e=this.\u0275cmp=n.Xpm({type:c,selectors:[["icon-plus"]],viewQuery:function(p,g){if(1&p&&n.Gf(f,7),2&p){let C;n.iGM(C=n.CRH())&&(g.template=C.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","20","height","20","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5","fill","none","stroke-linecap","round","stroke-linejoin","round",3,"ngClass"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"]],template:function(p,g){1&p&&n.YNc(0,m,3,1,"ng-template",null,0,n.W1O)},dependencies:[u.mk],encapsulation:2})}return c})()},5603:(L,h,l)=>{l.d(h,{p:()=>t});var n=l(4650),u=l(6895);const f=["template"];function m(c,T){if(1&c&&(n.O4$(),n.TgZ(0,"svg",1),n._UZ(1,"path",2)(2,"path",3)(3,"path",4)(4,"path",5)(5,"path",6),n.qZA()),2&c){const d=n.oxw();n.Q6J("ngClass",d.class)}}let t=(()=>{class c{constructor(d){this.viewContainerRef=d,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(p){return new(p||c)(n.Y36(n.s_b))};static#e=this.\u0275cmp=n.Xpm({type:c,selectors:[["icon-trash-lines"]],viewQuery:function(p,g){if(1&p&&n.Gf(f,7),2&p){let C;n.iGM(C=n.CRH())&&(g.template=C.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["d","M20.5001 6H3.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M18.8334 8.5L18.3735 15.3991C18.1965 18.054 18.108 19.3815 17.243 20.1907C16.378 21 15.0476 21 12.3868 21H11.6134C8.9526 21 7.6222 21 6.75719 20.1907C5.89218 19.3815 5.80368 18.054 5.62669 15.3991L5.16675 8.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M9.5 11L10 16","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M14.5 11L14 16","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["opacity","0.5","d","M6.5 6C6.55588 6 6.58382 6 6.60915 5.99936C7.43259 5.97849 8.15902 5.45491 8.43922 4.68032C8.44784 4.65649 8.45667 4.62999 8.47434 4.57697L8.57143 4.28571C8.65431 4.03708 8.69575 3.91276 8.75071 3.8072C8.97001 3.38607 9.37574 3.09364 9.84461 3.01877C9.96213 3 10.0932 3 10.3553 3H13.6447C13.9068 3 14.0379 3 14.1554 3.01877C14.6243 3.09364 15.03 3.38607 15.2493 3.8072C15.3043 3.91276 15.3457 4.03708 15.4286 4.28571L15.5257 4.57697C15.5433 4.62992 15.5522 4.65651 15.5608 4.68032C15.841 5.45491 16.5674 5.97849 17.3909 5.99936C17.4162 6 17.4441 6 17.5 6","stroke","currentColor","stroke-width","1.5"]],template:function(p,g){1&p&&n.YNc(0,m,6,1,"ng-template",null,0,n.W1O)},dependencies:[u.mk],encapsulation:2})}return c})()}}]);