"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[739],{5739:(L,_,i)=>{i.r(_),i.d(_,{ShiftsListModule:()=>J});var a=i(6895),u=i(3559),t=i(4650),f=i(9872),g=i(2477),d=i(4463),o=i(3649),r=i(4006),h=i(4868),C=i(1835);function v(e,m){if(1&e&&(t.TgZ(0,"strong",25),t._uU(1),t.qZA()),2&e){const n=m.data;t.xp6(1),t.hij("#",n.id,"")}}function M(e,m){if(1&e&&(t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const n=m.data;let l;t.xp6(1),t.hij(" ",t.lcZ(2,1,null!==(l=n.closeUserName)&&void 0!==l?l:"NotClosedYet")," ")}}function A(e,m){if(1&e&&(t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=m.data;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.totalSales)," ")}}function T(e,m){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",27),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"span",27),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&e){const n=m.data;t.xp6(1),t.hij("",t.lcZ(2,4,"StartAt")," : "),t.xp6(3),t.Oqu(t.xi3(5,6,n.startTime,"dd/MM/yyyy \u2022 h:mm a")),t.xp6(3),t.hij("",t.lcZ(8,9,"EndedAt")," : "),t.xp6(3),t.Oqu(t.xi3(11,11,n.endTime,"dd/MM/yyyy \u2022 h:mm a"))}}function S(e,m){if(1&e&&(t.TgZ(0,"div",28)(1,"a",29),t._UZ(2,"icon-edit",30),t.qZA()()),2&e){const n=m.data;t.xp6(1),t.Q6J("routerLink","/shifts/cu/"+n.id)}}const Z=function(){return[10,15,30,50]};function y(e,m){if(1&e){const n=t.EpF();t.TgZ(0,"div",18)(1,"ng-datatable",19),t.NdJ("changeServer",function(s){t.CHM(n);const p=t.oxw();return t.KtG(p.changeServer(s))}),t.YNc(2,v,2,1,"ng-template",20),t.YNc(3,M,3,3,"ng-template",21),t.YNc(4,A,3,3,"ng-template",22),t.YNc(5,T,12,14,"ng-template",23),t.YNc(6,S,3,1,"ng-template",24),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("rows",n.lstData)("columns",n.cols)("sortable",!0)("loading",n.loading)("totalRows",n.params.rowsCount)("isServerMode",!0)("pageSize",n.params.ps)("pageSizeOptions",t.DdM(10,Z))("sortColumn",n.params.OB)("sortDirection",1==n.params.acs?"asc":"desc")}}const U=[{path:"",component:(()=>{class e{constructor(n,l,s,p){this.accountingService=n,this.common=l,this.translate=s,this.route=p,this.lstData=[],this.loading=!1,this.lstLkpKeys=["_Account_1"],this.lstLkps={},this.initPage(),this.common.loadLkps(this.lstLkpKeys,this.lstLkps)}initPage(){this.initParams(),this.initCols(),this.search(),this.translateCallback()}translateCallback(){this.common.translateList(this.cols)}search(){setTimeout(()=>{this.loading=!0;let n={...this.params,isActive:"0"!=this.params.isActive};this.accountingService.ShiftsList(n).subscribe(l=>{this.lstData=l.lstData,this.params.rowsCount=l.rowsCount,this.loading=!1})},2)}initCols(){this.cols=[{field:"id",title:"ID",isUnique:!0},{field:"openUserName",title:"OpenUserName"},{field:"closeUserName",title:"CloseUserName"},{field:"branchName",title:"BranchName"},{field:"Times",title:"StartTime"},{field:"totalSales",title:"TotalSales"},{field:"actions",title:"Actions",sort:!1}]}initParams(){this.params={p:1,ps:15,rowsCount:25,strSearch:"",OB:"id",asc:!1,isActive:"1"}}changeServer(n){this.params=this.common.mapDataTableToParams(this.params,n),this.search()}static#t=this.\u0275fac=function(l){return new(l||e)(t.Y36(f.S),t.Y36(g.j),t.Y36(d.sK),t.Y36(u.gz))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-shifts-list"]],decls:45,vars:36,consts:[[1,"gap-y-4","grid"],[1,"panel"],[1,"gap-4","grid","sm:grid-cols-2","md:grid-cols-5"],[1,"col-span-1"],["for","name"],["id","name","type","text",1,"form-input",3,"ngModel","ngModelChange"],["type","date",1,"form-input",3,"ngModel","ngModelChange"],["bindLabel","label","bindValue","value",3,"items","ngModel","ngModelChange"],[1,"overflow-x-scroll","panel"],[1,"flex","justify-between"],[1,"mb-4","font-semibold","dark:text-white-light","text-lg"],[1,"flex","justify-end","gap-5"],[1,"inline-flex"],["type","radio","name","ia",1,"peer","outline-primary","form-radio",3,"value","ngModel","ngModelChange"],[1,"peer-checked:text-primary"],["type","radio","name","ia",1,"peer","outline-danger","form-radio",3,"value","ngModel","ngModelChange"],[1,"peer-checked:text-danger"],["class","datatable",4,"ngIf"],[1,"datatable"],["paginationInfo","{0} to {1} of {2}","skin","whitespace-nowrap bh-table-hover",3,"rows","columns","sortable","loading","totalRows","isServerMode","pageSize","pageSizeOptions","sortColumn","sortDirection","changeServer"],["slot","id"],["slot","closeUserName"],["slot","totalSales"],["slot","Times"],["slot","actions"],[1,"text-info"],[1,"flex","items-center","gap-2"],[1,"font-bold"],[1,"flex","justify-center","items-center","gap-4"],[1,"hover:text-info",3,"routerLink"],[1,"w-4.5","h-4.5"]],template:function(l,s){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("ngModelChange",function(c){return s.params.strSearch=c})("ngModelChange",function(){return s.search()}),t.qZA()(),t.TgZ(8,"div",3)(9,"label",4),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",6),t.NdJ("ngModelChange",function(c){return s.params.fromDate=c})("ngModelChange",function(){return s.search()}),t.qZA()(),t.TgZ(13,"div",3)(14,"label",4),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"input",6),t.NdJ("ngModelChange",function(c){return s.params.toDate=c})("ngModelChange",function(){return s.search()}),t.qZA()(),t.TgZ(18,"div",3)(19,"label",4),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"ng-select",7),t.NdJ("ngModelChange",function(c){return s.params.openedByUserId=c})("ngModelChange",function(){return s.search()}),t.qZA()(),t.TgZ(23,"div",3)(24,"label",4),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"ng-select",7),t.NdJ("ngModelChange",function(c){return s.params.ClosedByUserId=c})("ngModelChange",function(){return s.search()}),t.qZA()()()(),t.TgZ(28,"div",8)(29,"div",9)(30,"h5",10),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",11)(34,"label",12)(35,"input",13),t.NdJ("ngModelChange",function(){return s.search()})("ngModelChange",function(c){return s.params.isActive=c}),t.qZA(),t.TgZ(36,"span",14),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t.TgZ(39,"label",12)(40,"input",15),t.NdJ("ngModelChange",function(){return s.search()})("ngModelChange",function(c){return s.params.isActive=c}),t.qZA(),t.TgZ(41,"span",16),t._uU(42),t.ALo(43,"translate"),t.qZA()()()(),t.YNc(44,y,7,11,"div",17),t.qZA()()),2&l&&(t.xp6(5),t.Oqu(t.lcZ(6,20,"strSearch")),t.xp6(2),t.Q6J("ngModel",s.params.strSearch),t.xp6(3),t.Oqu(t.lcZ(11,22,"FromDate")),t.xp6(2),t.Q6J("ngModel",s.params.fromDate),t.xp6(3),t.Oqu(t.lcZ(16,24,"ToDate")),t.xp6(2),t.Q6J("ngModel",s.params.toDate),t.xp6(3),t.Oqu(t.lcZ(21,26,"OpenedByUser")),t.xp6(2),t.Q6J("items",s.lstLkps._Account_1)("ngModel",s.params.openedByUserId),t.xp6(3),t.Oqu(t.lcZ(26,28,"ClosedByUser")),t.xp6(2),t.Q6J("items",s.lstLkps._Account_1)("ngModel",s.params.ClosedByUserId),t.xp6(4),t.Oqu(t.lcZ(32,30,"ShiftsList")),t.xp6(4),t.Q6J("value","1")("ngModel",s.params.isActive),t.xp6(2),t.Oqu(t.lcZ(38,32,"Active")),t.xp6(3),t.Q6J("value","0")("ngModel",s.params.isActive),t.xp6(2),t.Oqu(t.lcZ(43,34,"Closed")),t.xp6(2),t.Q6J("ngIf",s.cols))},dependencies:[a.O5,u.rH,o.X,r.Fj,r._,r.JJ,r.On,h.rr,h.Nr,C.w9,a.JJ,a.uU,d.X$]})}return e})()}];let O=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(U),u.Bz]})}return e})();var x=i(4180),D=i(9886),b=i(9116);let J=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[a.ez,O,b.Q,r.u5,h.tA,r.UX,d.aw,x.$9,C.A0,D.zk]})}return e})()},3649:(L,_,i)=>{i.d(_,{X:()=>g});var a=i(4650),u=i(6895);const t=["template"];function f(d,o){if(1&d&&(a.O4$(),a.TgZ(0,"svg",1),a._UZ(1,"path",2)(2,"path",3)(3,"path",4),a.qZA()),2&d){const r=a.oxw();a.Q6J("ngClass",r.class)}}let g=(()=>{class d{constructor(r){this.viewContainerRef=r,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(h){return new(h||d)(a.Y36(a.s_b))};static#e=this.\u0275cmp=a.Xpm({type:d,selectors:[["icon-edit"]],viewQuery:function(h,C){if(1&h&&a.Gf(t,7),2&h){let v;a.iGM(v=a.CRH())&&(C.template=v.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","20","height","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["opacity","0.5","d","M22 10.5V12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2H13.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M17.3009 2.80624L16.652 3.45506L10.6872 9.41993C10.2832 9.82394 10.0812 10.0259 9.90743 10.2487C9.70249 10.5114 9.52679 10.7957 9.38344 11.0965C9.26191 11.3515 9.17157 11.6225 8.99089 12.1646L8.41242 13.9L8.03811 15.0229C7.9492 15.2897 8.01862 15.5837 8.21744 15.7826C8.41626 15.9814 8.71035 16.0508 8.97709 15.9619L10.1 15.5876L11.8354 15.0091C12.3775 14.8284 12.6485 14.7381 12.9035 14.6166C13.2043 14.4732 13.4886 14.2975 13.7513 14.0926C13.9741 13.9188 14.1761 13.7168 14.5801 13.3128L20.5449 7.34795L21.1938 6.69914C22.2687 5.62415 22.2687 3.88124 21.1938 2.80624C20.1188 1.73125 18.3759 1.73125 17.3009 2.80624Z","stroke","currentColor","stroke-width","1.5"],["opacity","0.5","d","M16.6522 3.45508C16.6522 3.45508 16.7333 4.83381 17.9499 6.05034C19.1664 7.26687 20.5451 7.34797 20.5451 7.34797M10.1002 15.5876L8.4126 13.9","stroke","currentColor","stroke-width","1.5"]],template:function(h,C){1&h&&a.YNc(0,f,4,1,"ng-template",null,0,a.W1O)},dependencies:[u.mk],encapsulation:2})}return d})()},9872:(L,_,i)=>{i.d(_,{S:()=>f});var a=i(4650),u=i(1801),t=i(2477);let f=(()=>{class g{constructor(o,r){this.http=o,this.common=r,this.mainRoute="Accounting"}AddFloor(o){return this.http.post(`${this.mainRoute}/AddFloor`,o)}FloorDetails(o){return this.http.getWithObj(`${this.mainRoute}/FloorDetails`,o)}FloorsList(o){return this.http.getWithObj(`${this.mainRoute}/FloorsList`,o)}GetTablesStatuses(o){return this.http.getWithObj(`${this.mainRoute}/GetTablesStatuses`,o)}AddShift(o){return this.http.post(`${this.mainRoute}/AddShift`,o)}ShiftDetails(o){return this.http.getWithObj(`${this.mainRoute}/ShiftDetails`,o)}ShiftsList(o){return this.http.getWithObj(`${this.mainRoute}/ShiftsList`,o)}static#t=this.\u0275fac=function(r){return new(r||g)(a.LFG(u.q),a.LFG(t.j))};static#e=this.\u0275prov=a.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()}}]);