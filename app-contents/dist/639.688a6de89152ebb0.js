"use strict";(self.webpackChunkvristo_angular=self.webpackChunkvristo_angular||[]).push([[639],{9639:(b,u,a)=>{a.r(u),a.d(u,{LoginModule:()=>j});var r=a(6895),f=a(3559),h=a(5861),i=a(4006),l=a(7340),t=a(4650),w=a(6467),g=a(8890),c=a(5867),x=a(2477),m=a(4463),Z=a(7400),y=a(3644),T=a(3526),A=a(1030),d=a(4180);const C=function(o){return{"bg-primary/10 text-primary":o}};function L(o,v){if(1&o){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,p=t.oxw(2);return t.KtG(p.changeLanguage(s))}),t._UZ(1,"img",53),t.TgZ(2,"span",54),t._uU(3),t.qZA()()}if(2&o){const e=t.oxw().$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(3,C,n.translate.currentLang===e.code)),t.xp6(1),t.Q6J("src","/assets/images/flags/"+e.code.toUpperCase()+".svg",t.LSH),t.xp6(2),t.Oqu(e.name)}}function k(o,v){1&o&&(t.TgZ(0,"li"),t.YNc(1,L,4,5,"button",51),t.qZA())}function _(o,v){if(1&o&&(t.TgZ(0,"ul",49),t.YNc(1,k,2,0,"li",50),t.qZA()),2&o){const e=t.oxw();t.Q6J("@toggleAnimation",void 0),t.xp6(1),t.Q6J("ngForOf",e.store.languageList)}}const U=[{path:"",component:(()=>{class o{get f(){return this.form.controls}constructor(e,n,s,p,I,M){this.accountService=e,this.storeManagementService=n,this.storeData=s,this.common=p,this.translate=I,this.appSetting=M,this.currYear=(new Date).getFullYear(),this.form=new i.cw({userName:new i.NI("",[i.kI.required]),password:new i.NI("",[i.kI.required])}),this.loading=!1}ngOnInit(){this.initStore()}initStore(){var e=this;return(0,h.Z)(function*(){e.storeData.select(n=>n.index).subscribe(n=>{e.store=n})})()}login(){this.form.valid&&(this.loading=!0,this.accountService.Login(this.form.value).subscribe({next:e=>{if(e.lstError&&e.lstError[0])return alert(e.lstError[0]),void(this.loading=!1);e.lstWarnings&&e.lstWarnings[0]&&"false"==e.lstWarnings[0]?this.common.error("Your license has expired. To continue using the program and unlock all features, please renew your subscription."):(e.token&&e.lstWarnings&&e.lstWarnings[0]&&"false"!=e.lstWarnings[0]?localStorage.setItem("L",e.lstWarnings[0]):localStorage.removeItem("L"),e.token&&this.common.saveAuth(e))},error:e=>{400==e.status&&alert(e.error.message)}}))}forgotPassword(){this.common.navigateTo("../reset-password")}switchLogin(){var e=this;return(0,h.Z)(function*(){let n=yield e.storeManagementService.getItem("loginSetup");n||(n="Panel"),n="Panel"==n?"POS":"Panel",e.storeManagementService.setItem("loginSetup",n),e.common.navigateTo("Panel"==n?"../login":"../loginPos")})()}changeLanguage(e){this.translate.use(e.code),this.appSetting.toggleLanguage(e),"ae"===this.store.locale?.toLowerCase()?this.storeData.dispatch({type:"toggleRTL",payload:"rtl"}):this.storeData.dispatch({type:"toggleRTL",payload:"ltr"}),window.location.reload()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(w.B),t.Y36(g.T),t.Y36(c.yh),t.Y36(x.j),t.Y36(m.sK),t.Y36(Z.z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:81,vars:37,consts:[[1,"absolute","inset-0"],["src","/assets/images/auth/bg-gradient.png","alt","image",1,"w-full","h-full","object-cover"],[1,"relative","flex","justify-center","items-center","bg-[url(/assets/images/auth/map.png)]","dark:bg-[#060818]","bg-cover","bg-no-repeat","bg-center","px-6","sm:px-16","py-10","min-h-screen"],["src","/assets/images/auth/coming-soon-object1.png","alt","image",1,"top-1/2","left-0","absolute","h-full","max-h-[893px]","-translate-y-1/2"],["src","/assets/images/auth/coming-soon-object2.png","alt","image",1,"top-0","left-24","md:left-[30%]","absolute","h-40"],["src","/assets/images/auth/coming-soon-object3.png","alt","image",1,"top-0","right-0","absolute","h-[300px]"],["src","/assets/images/auth/polygon-object.svg","alt","image",1,"bottom-0","absolute","end-[28%]"],[1,"relative","flex","lg:flex-row","flex-col","justify-between","lg:gap-10","xl:gap-0","bg-white/60","dark:bg-black/50","backdrop-blur-lg","rounded-md","w-full","max-w-[1502px]","lg:min-h-[758px]","overflow-hidden"],[1,"hidden","lg:inline-flex","relative","justify-center","items-center","bg-[linear-gradient(225deg,rgba(239,18,98,1)_0%,rgba(67,97,238,1)_100%)]","xl:-ms-28","p-5","w-full","lg:max-w-[835px]","ltr:xl:skew-x-[14deg]","rtl:xl:skew-x-[-14deg]"],[1,"ltr:-right-10","ltr:xl:-right-20","rtl:-left-10","rtl:xl:-left-20","absolute","inset-y-0","ltr:bg-gradient-to-r","rtl:bg-gradient-to-l","from-primary/10","via-transparent","to-transparent","w-8","xl:w-16"],[1,"ltr:xl:-skew-x-[14deg]","rtl:xl:skew-x-[14deg]"],[1,"block","flex","items-center","gap-5","ms-10","w-48","lg:w-72"],["src","/assets/images/logo.svg","alt","",1,"inline","rtl:-mr-1","ltr:-ml-1","w-20","w-8","h-20"],[1,"text-5xl","whitespace-nowrap"],[1,"font-extrabold"],[1,"ml-1","font-extrabold"],[1,"hidden","lg:block","mt-24","w-full","max-w-[430px]"],["src","/assets/images/auth/login.svg","alt","Cover Image",1,"w-full"],[1,"relative","flex","flex-col","justify-center","items-center","gap-6","px-4","sm:px-6","pt-6","pb-16","w-full","lg:max-w-[667px]"],[1,"lg:top-6","lg:absolute","flex","items-center","gap-2","w-full","max-w-[440px]","lg:max-w-full","lg:end-6"],[1,"lg:hidden","block","w-8"],["src","/assets/images/logo.svg","alt","Logo",1,"mx-auto","w-10"],[1,"top-6","absolute","end-6"],[1,"dropdown"],["hlMenu",""],["type","button","hlMenuButton","",1,"flex","items-center","gap-2.5","bg-white","dark:bg-black","px-2","py-1.5","border","border-white-dark/30","hover:border-primary","rounded-lg","text-white-dark","hover:text-primary"],["alt","image",1,"rounded-full","w-5","h-5","object-cover",3,"src"],[1,"font-bold","text-base","uppercase"],[1,"shrink-0"],["class","top-11 ltr:-right-14 sm:ltr:-right-2 rtl:-left-14 sm:rtl:-left-2 gap-2 grid grid-cols-2 !px-2 w-[280px] font-semibold text-dark dark:text-white-dark dark:text-white-light/90",4,"hlMenuItems"],[1,"lg:mt-16","w-full","max-w-[440px]"],[1,"mb-10"],[1,"font-extrabold","text-primary","text-3xl","md:text-4xl","uppercase","!leading-snug"],[1,"font-bold","text-white-dark","text-base","leading-normal"],[1,"space-y-5","dark:text-white",3,"formGroup","ngSubmit"],["for","Email"],[1,"relative","text-white-dark"],["id","Email","type","email","formControlName","userName",1,"ps-10","placeholder:text-white-dark","form-input",3,"placeholder"],[1,"top-1/2","absolute","-translate-y-1/2","start-4"],[3,"fill"],[1,"flex","justify-between"],["for","Password"],[1,"text-blue-500","underline","cursor-pointer",3,"click"],["id","Password","type","password","formControlName","password",1,"ps-10","placeholder:text-white-dark","form-input",3,"placeholder"],[1,"flex","items-center","cursor-pointer"],["type","checkbox",1,"bg-white","dark:bg-black","form-checkbox"],[1,"text-white-dark"],["type","submit",1,"shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]","!mt-6","border-0","w-full","uppercase","btn","btn-gradient",3,"disabled"],[1,"bottom-6","absolute","w-full","dark:text-white","text-center"],[1,"top-11","ltr:-right-14","sm:ltr:-right-2","rtl:-left-14","sm:rtl:-left-2","gap-2","grid","grid-cols-2","!px-2","w-[280px]","font-semibold","text-dark","dark:text-white-dark","dark:text-white-light/90"],[4,"ngFor","ngForOf"],["type","button","class","w-full hover:text-primary",3,"ngClass","click",4,"hlMenuItem"],["type","button",1,"w-full","hover:text-primary",3,"ngClass","click"],["alt","",1,"rounded-full","w-5","h-5","object-cover",3,"src"],[1,"rtl:mr-3","ltr:ml-3"]],template:function(n,s){1&n&&(t.TgZ(0,"div")(1,"div",0),t._UZ(2,"img",1),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"img",3)(5,"img",4)(6,"img",5)(7,"img",6),t.TgZ(8,"div",7)(9,"div",8),t._UZ(10,"div",9),t.TgZ(11,"div",10)(12,"a",11),t._UZ(13,"img",12),t.TgZ(14,"div",13)(15,"span",14),t._uU(16,"N"),t.qZA(),t._uU(17,"ew"),t.TgZ(18,"span",15),t._uU(19,"C"),t.qZA(),t._uU(20,"lick "),t.qZA()(),t.TgZ(21,"div",16),t._UZ(22,"img",17),t.qZA()()(),t.TgZ(23,"div",18)(24,"div",19)(25,"a",20),t._UZ(26,"img",21),t.qZA(),t.TgZ(27,"div",22)(28,"div",23)(29,"div",24)(30,"button",25)(31,"div"),t._UZ(32,"img",26),t.qZA(),t.TgZ(33,"div",27),t._uU(34),t.qZA(),t.TgZ(35,"span",28),t._UZ(36,"icon-caret-down"),t.qZA()(),t.YNc(37,_,2,2,"ul",29),t.qZA()()()(),t.TgZ(38,"div",30)(39,"div",31)(40,"h1",32),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"p",33),t._uU(44),t.ALo(45,"translate"),t.qZA()(),t.TgZ(46,"form",34),t.NdJ("ngSubmit",function(){return s.login()}),t.TgZ(47,"div")(48,"label",35),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",36),t._UZ(52,"input",37),t.ALo(53,"translate"),t.TgZ(54,"span",38),t._UZ(55,"icon-mail",39),t.qZA()()(),t.TgZ(56,"div")(57,"div",40)(58,"label",41),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"p",42),t.NdJ("click",function(){return s.switchLogin()}),t._uU(62),t.ALo(63,"translate"),t.ALo(64,"translate"),t.qZA()(),t.TgZ(65,"div",36),t._UZ(66,"input",43),t.ALo(67,"translate"),t.TgZ(68,"span",38),t._UZ(69,"icon-lock-dots",39),t.qZA()()(),t.TgZ(70,"div")(71,"label",44),t._UZ(72,"input",45),t.TgZ(73,"span",46),t._uU(74),t.ALo(75,"translate"),t.qZA()()(),t.TgZ(76,"button",47),t._uU(77),t.ALo(78,"translate"),t.qZA()()(),t.TgZ(79,"p",48),t._uU(80),t.qZA()()()()()),2&n&&(t.xp6(32),t.Q6J("src","/assets/images/flags/"+s.store.locale.toUpperCase()+".svg",t.LSH),t.xp6(2),t.Oqu(s.store.locale),t.xp6(7),t.hij("",t.lcZ(42,17,"SignIn")," "),t.xp6(3),t.Oqu(t.lcZ(45,19,"EnterEmailAndPassword")),t.xp6(2),t.Q6J("formGroup",s.form),t.xp6(3),t.Oqu(t.lcZ(50,21,"Email")),t.xp6(3),t.s9C("placeholder",t.lcZ(53,23,"EnterEmail")),t.xp6(3),t.Q6J("fill",!0),t.xp6(4),t.Oqu(t.lcZ(60,25,"Password")),t.xp6(3),t.AsE(" ",t.lcZ(63,27,"SwitchLogin")," ",t.lcZ(64,29,"?"),""),t.xp6(4),t.s9C("placeholder",t.lcZ(67,31,"EnterPassword")),t.xp6(3),t.Q6J("fill",!0),t.xp6(5),t.Oqu(t.lcZ(75,33,"RememberMe")),t.xp6(2),t.Q6J("disabled",s.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(78,35,"SignIn")," "),t.xp6(3),t.hij("\xa9 ",s.currYear,".New Click All Rights Reserved."))},dependencies:[r.mk,r.sg,y.$,T.p,A.h,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,d.B$,d.zk,d._f,d.e6,m.X$],styles:[".btn-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #EF1262 var(--tw-gradient-from-position);--tw-gradient-to: rgb(239 18 98 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #4361EE var(--tw-gradient-to-position);--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.btn-gradient[_ngcontent-%COMP%]:hover{--tw-gradient-from: #4361EE var(--tw-gradient-from-position);--tw-gradient-to: rgb(67 97 238 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #EF1262 var(--tw-gradient-to-position) }"],data:{animation:[(0,l.X$)("toggleAnimation",[(0,l.eR)(":enter",[(0,l.oB)({opacity:0,transform:"scale(0.95)"}),(0,l.jt)("100ms ease-out",(0,l.oB)({opacity:1,transform:"scale(1)"}))]),(0,l.eR)(":leave",[(0,l.jt)("75ms",(0,l.oB)({opacity:0,transform:"scale(0.95)"}))])])]}})}return o})()}];let E=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(U),f.Bz]})}return o})();var S=a(9116);let j=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[r.ez,E,S.Q,i.u5,i.UX,d.$9,m.aw]})}return o})()},3644:(b,u,a)=>{a.d(u,{$:()=>l});var r=a(4650),f=a(6895);const h=["template"];function i(t,w){if(1&t&&(r.O4$(),r.TgZ(0,"svg",1),r._UZ(1,"path",2),r.qZA()),2&t){const g=r.oxw();r.Q6J("ngClass",g.class)}}let l=(()=>{class t{constructor(g){this.viewContainerRef=g,this.class=""}ngOnInit(){this.viewContainerRef.createEmbeddedView(this.template),this.viewContainerRef.element.nativeElement.remove()}static#t=this.\u0275fac=function(c){return new(c||t)(r.Y36(r.s_b))};static#e=this.\u0275cmp=r.Xpm({type:t,selectors:[["icon-caret-down"]],viewQuery:function(c,x){if(1&c&&r.Gf(h,7),2&c){let m;r.iGM(m=r.CRH())&&(x.template=m.first)}},inputs:{class:"class"},decls:2,vars:0,consts:[["template",""],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["d","M19 9L12 15L5 9","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"]],template:function(c,x){1&c&&r.YNc(0,i,2,1,"ng-template",null,0,r.W1O)},dependencies:[f.mk],encapsulation:2})}return t})()}}]);